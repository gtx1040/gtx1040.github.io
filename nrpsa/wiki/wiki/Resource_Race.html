<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	
<!-- Mirrored from wiki.nexusrp.com/wiki/Resource:Race by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 27 Aug 2015 07:29:05 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="generator" content="MediaWiki 1.22.13" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="Nexus RP: Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="/api.php?action=rsd" />
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
<link rel="alternate" type="application/atom+xml" title="Nexus RP: Wiki Atom feed" index.html?title=Special:RecentChanges&amp;feed=atom" />		<title>Resource:Race - Nexus RP: Wiki</title>
		<link rel="stylesheet" href="/load.php?debug=false&amp;lang=en&amp;modules=ext.rtlcite%7Cmediawiki.legacy.commonPrint%2Cshared&amp;only=styles&amp;skin=nrpbook&amp;*" />
<link rel="stylesheet" href="../skins/nrpbook/main11b9.css?303" media="screen" />
<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins/nrpbook/IE50Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 5.5000]><link rel="stylesheet" href="/skins/nrpbook/IE55Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" href="/skins/nrpbook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/skins/nrpbook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=nrpbook&amp;*" />
<style>a:lang(ar),a:lang(ckb),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: nrp_wiki_1_22_13-wiki_dev_:resourceloader:filter:minify-css:7:68ffccca97fd0532df6141dcbaf256b6 */</style>

		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?303"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"Resource","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":100,"wgPageName":"Resource:Race","wgTitle":"Race","wgCurRevisionId":30810,"wgRevisionId":30810,"wgArticleId":3522,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Resource"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransforNRPble":["",""],"wgDigitTransforNRPble":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Resource:Race","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script>
		<script type="text/javascript" src="../skins/common/wikibits11b9.js?303"><!-- wikibits js --></script>
		<!-- Head Scripts -->
<script src="/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=nrpbook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"Resource","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":100,"wgPageName":"Resource:Race","wgTitle":"Race","wgCurRevisionId":30810,"wgRevisionId":30810,"wgArticleId":3522,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Resource"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransforNRPble":["",""],"wgDigitTransforNRPble":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Resource:Race","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"nrpbook","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"vector-simplesearch":1,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,
"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"useeditwarning":1,"prefershttps":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs100":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: nrp_wiki_1_22_13-wiki_dev_:resourceloader:filter:minify-js:7:925126ceab977200cdcc48193642dea0 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script><style type="text/css">/*<![CDATA[*/
.source-lua {line-height: normal;}
.source-lua li, .source-lua pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for lua
 * CSS class: source-lua, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.lua.source-lua .de1, .lua.source-lua .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.lua.source-lua  {font-family:monospace;}
.lua.source-lua .imp {font-weight: bold; color: red;}
.lua.source-lua li, .lua.source-lua .li1 {font-weight: normal; vertical-align:top;}
.lua.source-lua .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.lua.source-lua .li2 {font-weight: bold; vertical-align:top;}
.lua.source-lua .kw1 {color: #b1b100;}
.lua.source-lua .co1 {color: #808080; font-style: italic;}
.lua.source-lua .coMULTI {color: #808080; font-style: italic;}
.lua.source-lua .es0 {color: #000099; font-weight: bold;}
.lua.source-lua .br0 {color: #66cc66;}
.lua.source-lua .sy0 {color: #66cc66;}
.lua.source-lua .st0 {color: #00A600;}
.lua.source-lua .nu0 {color: #cc66cc;}
.lua.source-lua .me0 {color: #b1b100;}
.lua.source-lua .ln-xtra, .lua.source-lua li.ln-xtra, .lua.source-lua div.ln-xtra {background-color: #ffc;}
.lua.source-lua span.xtra { display:block; }

/*]]>*/
</style>	</head>
<body class="mediawiki ltr ns-100 ns-subject page-Resource_Race skin-nrpbook">
	<div id="globalWrapper">
		
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
			<h1 id="firstHeading" class="firstHeading">Resource:Race</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Nexus RP: Wiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>		<!-- start content -->
<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p><script type='text/javascript'>setHeadingClass('resource','Resource');</script>
<script type='text/javascript'>removeNamespaceName();</script>
<script type='text/javascript'>makeTitleLowercaseFirstLetter();</script>
</p><p>The "race" gamemode organizes sprint or freeroam races for one or more players. It supports both maps from NRP:Race and maps in the NRP:SA DM map syntax that were created in the map editor.
</p>
<h2><span class="mw-headline" id="Ingame">Ingame</span></h2>
<p>Playing race is quite straightforward. If there are checkpoints, drive from checkpoint to checkpoint and be the first to reach the finish line within the time. If there are no checkpoints, just drive around and have fun.
</p><p>In races you may encounter three types of pickups which will have an effect on your vehicle:
</p>
<ul>
<li><b>Repair pickups:</b> this pickup looks like a wrench. If you drive over it, your vehicle will be restored to full health.
</li>
<li><b>Nitrous oxide pickups:</b> a red NOS bottle. After you drive over one you can press the fire button (by default the left mouse button) to get a temporary speed boost.
</li>
<li><b>Vehicle change pickups:</b> these display the name of a vehicle above them. As soon as you drive over a pickup your vehicle will be changed.
</li>
</ul>
<p>Lastly, if you get stuck during a race, you can enter the /kill command in the chatbox to kill yourself and respawn at the previous checkpoint.
</p>
<h2><span class="mw-headline" id="Converting_NRP:Race_maps">Converting NRP:Race maps</span></h2>
<p>Use the <a rel="nofollow" class="external text" href="http://files.nrp.us.to/apps/1.0/raceconv.zip">batch converter</a> to convert all your NRP:Race maps into NRP:SA maps in one go.
</p>
<h2><span class="mw-headline" id="Map_syntax">Map syntax</span></h2>
<p>You can create race maps using the new NRP:SA <a href="Resource_Editor.html" title="Resource:Editor">map editor</a>. The map syntax is given here for reference.
</p>
<h3><span class="mw-headline" id=".map_file">.map file</span></h3>
<!-- PLAIN TEXT CODE FOR BOTS |<map> <! <spawnpoint posX="X" posY="Y" posZ="Z" rotation="Rotation in degrees" vehicle="Vehicle ID" id="spawnpointID" [ paintjob="paintjob ID" upgrades="comma-separated list of upgrades" ] /> <! <checkpoint posX="X" posY="Y" posZ="Z" color="#FF0000" id="textual or numeric checkpoint ID" nextid="ID of checkpoint after this one" [ size="checkpoint size" vehicle="vehicle ID to change into" type="checkpoint/ring/cylinder/arrow/corona" paintjob="paintjob ID" upgrades="comma-separated list of upgrades" ] /> <! <object posX="X" posY="Y" posZ="Z" rotX="in degrees" rotY="in degrees" rotZ="in degrees" model="model ID" id="objectID" /> <! <pickup posX="X" posY="Y" posZ="Z" type="repair|nitro|vehiclechange" id="pickupID" [ vehicle="vehicle ID" paintjob="paintjob ID" upgrades="comma-separated list of upgrades" ] /> </map>|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><span class="sy0">&lt;</span>map<span class="sy0">&gt;</span>
    <span class="sy0">&lt;!</span><span class="co1">-- One or more --&gt;</span>
    <span class="sy0">&lt;</span>spawnpoint posX<span class="sy0">=</span><span class="st0">&quot;X&quot;</span> posY<span class="sy0">=</span><span class="st0">&quot;Y&quot;</span> posZ<span class="sy0">=</span><span class="st0">&quot;Z&quot;</span> rotation<span class="sy0">=</span><span class="st0">&quot;Rotation in degrees&quot;</span> <a href="Vehicle.html" class="kw3"><span class="kw3">vehicle</span></a><span class="sy0">=</span><span class="st0">&quot;Vehicle ID&quot;</span> id<span class="sy0">=</span><span class="st0">&quot;spawnpointID&quot;</span> <span class="br0">&#91;</span> paintjob<span class="sy0">=</span><span class="st0">&quot;paintjob ID&quot;</span> upgrades<span class="sy0">=</span><span class="st0">&quot;comma-separated list of upgrades&quot;</span> <span class="br0">&#93;</span> <span class="sy0">/&gt;</span>
&#160;
    <span class="sy0">&lt;!</span><span class="co1">-- Zero or more --&gt; </span>
    <span class="sy0">&lt;</span>checkpoint posX<span class="sy0">=</span><span class="st0">&quot;X&quot;</span> posY<span class="sy0">=</span><span class="st0">&quot;Y&quot;</span> posZ<span class="sy0">=</span><span class="st0">&quot;Z&quot;</span> color<span class="sy0">=</span><span class="st0">&quot;#FF0000&quot;</span> id<span class="sy0">=</span><span class="st0">&quot;textual or numeric checkpoint ID&quot;</span> nextid<span class="sy0">=</span><span class="st0">&quot;ID of checkpoint after this one&quot;</span> <span class="br0">&#91;</span> size<span class="sy0">=</span><span class="st0">&quot;checkpoint size&quot;</span> <a href="Vehicle.html" class="kw3"><span class="kw3">vehicle</span></a><span class="sy0">=</span><span class="st0">&quot;vehicle ID to change into&quot;</span> <span class="kw1">type</span><span class="sy0">=</span><span class="st0">&quot;checkpoint/ring/cylinder/arrow/corona&quot;</span> paintjob<span class="sy0">=</span><span class="st0">&quot;paintjob ID&quot;</span> upgrades<span class="sy0">=</span><span class="st0">&quot;comma-separated list of upgrades&quot;</span> <span class="br0">&#93;</span> <span class="sy0">/&gt;</span>
&#160;
    <span class="sy0">&lt;!</span><span class="co1">-- Zero or more --&gt;</span>
    <span class="sy0">&lt;</span><a href="Object.html" class="kw3"><span class="kw3">object</span></a> posX<span class="sy0">=</span><span class="st0">&quot;X&quot;</span> posY<span class="sy0">=</span><span class="st0">&quot;Y&quot;</span> posZ<span class="sy0">=</span><span class="st0">&quot;Z&quot;</span> rotX<span class="sy0">=</span><span class="st0">&quot;in degrees&quot;</span> rotY<span class="sy0">=</span><span class="st0">&quot;in degrees&quot;</span> rotZ<span class="sy0">=</span><span class="st0">&quot;in degrees&quot;</span> model<span class="sy0">=</span><span class="st0">&quot;model ID&quot;</span> id<span class="sy0">=</span><span class="st0">&quot;objectID&quot;</span> <span class="sy0">/&gt;</span>
&#160;
    <span class="sy0">&lt;!</span><span class="co1">-- Zero or more --&gt;</span>
    <span class="sy0">&lt;</span><a href="Pickup.html" class="kw3"><span class="kw3">pickup</span></a> posX<span class="sy0">=</span><span class="st0">&quot;X&quot;</span> posY<span class="sy0">=</span><span class="st0">&quot;Y&quot;</span> posZ<span class="sy0">=</span><span class="st0">&quot;Z&quot;</span> <span class="kw1">type</span><span class="sy0">=</span><span class="st0">&quot;repair|nitro|vehiclechange&quot;</span> id<span class="sy0">=</span><span class="st0">&quot;pickupID&quot;</span> <span class="br0">&#91;</span> <a href="Vehicle.html" class="kw3"><span class="kw3">vehicle</span></a><span class="sy0">=</span><span class="st0">&quot;vehicle ID&quot;</span> paintjob<span class="sy0">=</span><span class="st0">&quot;paintjob ID&quot;</span> upgrades<span class="sy0">=</span><span class="st0">&quot;comma-separated list of upgrades&quot;</span> <span class="br0">&#93;</span> <span class="sy0">/&gt;</span>
<span class="sy0">&lt;/</span>map<span class="sy0">&gt;</span></pre></div></div>
<h3><span class="mw-headline" id="meta.xml">meta.xml</span></h3>
<!-- PLAIN TEXT CODE FOR BOTS |<meta> <info type="map" gamemodes="race" name="Map name" author="Author name" description="Map description" version="Map version number"/> <race src="Map file.map"/> <settings> <setting name="#optionName" value="optionValue"/> ... </settings> </meta>|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><span class="sy0">&lt;</span>meta<span class="sy0">&gt;</span>
   <span class="sy0">&lt;</span>info <span class="kw1">type</span><span class="sy0">=</span><span class="st0">&quot;map&quot;</span> gamemodes<span class="sy0">=</span><span class="st0">&quot;race&quot;</span> name<span class="sy0">=</span><span class="st0">&quot;Map name&quot;</span> author<span class="sy0">=</span><span class="st0">&quot;Author name&quot;</span> description<span class="sy0">=</span><span class="st0">&quot;Map description&quot;</span> version<span class="sy0">=</span><span class="st0">&quot;Map version number&quot;</span><span class="sy0">/&gt;</span>
   <span class="sy0">&lt;</span>race src<span class="sy0">=</span><span class="st0">&quot;Map file.map&quot;</span><span class="sy0">/&gt;</span>
   <span class="sy0">&lt;</span>settings<span class="sy0">&gt;</span>
      <span class="sy0">&lt;</span>setting name<span class="sy0">=</span><span class="st0">&quot;#optionName&quot;</span> value<span class="sy0">=</span><span class="st0">&quot;optionValue&quot;</span><span class="sy0">/&gt;</span>
      ...
   <span class="sy0">&lt;/</span>settings<span class="sy0">&gt;</span>
<span class="sy0">&lt;/</span>meta<span class="sy0">&gt;</span></pre></div></div>
<p>The &lt;setting&gt;s correspond to options in NRP:Race syntax. For example, <time>4:0</time> in NRP:Race syntax would correspond to &lt;setting name="#time" value="4:0"/&gt; in DM syntax.
</p>
<h2><span class="mw-headline" id="Addons">Addons</span></h2>
<p>A Race 'addon' is no different from any other script resource, except that is has addon="race" in the &lt;info&gt; section of it's meta.xml file. This is simply to allow Race to identify it and put it in the /config menu for you. Addons communicate with Race via events. The current list of Race events and what they do are here:
</p>
<h2><span class="mw-headline" id="Events_for_version_0.8.3">Events for version 0.8.3</span></h2>
<p><b>Note:</b> You may have to add the events in your script using addEvent() if you want to use them.
</p>
<h3><span class="mw-headline" id="Server">Server</span></h3>
<table class="wikitable" border="0">

<tr>
<td width="200pt"><b>Name</b>
</td>
<td width="60pt"><b>Source</b>
</td>
<td><b>Parameters</b>
</td></tr></table>
<table class="wikitable" border="0">

<tr>
<td width="200pt"><b>onPlayerReachCheckpoint</b>
</td>
<td width="60pt">player
</td>
<td><!-- PLAIN TEXT CODE FOR BOTS |int checkpoint, int time_|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="Int.html" class="kw3"><span class="kw3">int</span></a> checkpoint, <a href="Int.html" class="kw3"><span class="kw3">int</span></a> time_</pre></div></div>
</td></tr></table>
<table class="wikitable" border="0">

<tr>
<td width="200pt"><b>onPlayerPickUpRacePickup</b>
</td>
<td width="60pt">player
</td>
<td><!-- PLAIN TEXT CODE FOR BOTS |int/string pickupID, string pickupType, int vehicleModel|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="Int.html" class="kw3"><span class="kw3">int</span></a><span class="sy0">/</span><a href="String-3.html" class="kw3"><span class="kw3">string</span></a> pickupID, <a href="String-3.html" class="kw3"><span class="kw3">string</span></a> pickupType, <a href="Int.html" class="kw3"><span class="kw3">int</span></a> vehicleModel</pre></div></div>
</td></tr></table>
<table class="wikitable" border="0">

<tr>
<td width="200pt"><b>onMapStarting</b>
</td>
<td width="60pt">
</td>
<td><!-- PLAIN TEXT CODE FOR BOTS |table mapInfo, table mapOptions, table gameOptions|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="Table.html" class="kw3"><span class="kw3">table</span></a> mapInfo, <a href="Table.html" class="kw3"><span class="kw3">table</span></a> mapOptions, <a href="Table.html" class="kw3"><span class="kw3">table</span></a> gameOptions</pre></div></div>
</td></tr></table>
<table class="wikitable" border="0">

<tr>
<td width="200pt"><b>onPlayerFinish</b>
</td>
<td width="60pt">player
</td>
<td height="20pt"><!-- PLAIN TEXT CODE FOR BOTS |int rank, int time|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="Int.html" class="kw3"><span class="kw3">int</span></a> rank, <a href="Int.html" class="kw3"><span class="kw3">int</span></a> <span class="kw1">time</span></pre></div></div>
</td></tr></table>
<table class="wikitable" border="0">

<tr>
<td width="200pt"><b>onPostFinish</b>
</td>
<td width="60pt">
</td>
<td height="38pt">
</td></tr></table>
<table class="wikitable" border="0">

<tr>
<td width="200pt"><b>onPollStarting</b>
</td>
<td width="60pt">
</td>
<td><!-- PLAIN TEXT CODE FOR BOTS |table poll|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="Table.html" class="kw3"><span class="kw3">table</span></a> poll</pre></div></div>
</td></tr></table>
<table class="wikitable" border="0">

<tr>
<td width="200pt"><b>onRaceStateChanging</b>
</td>
<td width="60pt">
</td>
<td><!-- PLAIN TEXT CODE FOR BOTS |string newStateName, string oldStateName|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="String-3.html" class="kw3"><span class="kw3">string</span></a> newStateName, <a href="String-3.html" class="kw3"><span class="kw3">string</span></a> oldStateName</pre></div></div>
</td></tr>
</table>
<table class="wikitable" border="0">

<tr>
<td width="200pt"><b>onPlayerRaceWasted</b>
</td>
<td width="60pt">player
</td>
<td><!-- PLAIN TEXT CODE FOR BOTS |vehicle playersVehicle|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="Vehicle.html" class="kw3"><span class="kw3">vehicle</span></a> playersVehicle</pre></div></div>
</td></tr>
</table>
<h3><span class="mw-headline" id="Client">Client</span></h3>
<table class="wikitable" border="0">

<tr>
<td width="200pt"><b>onClientMapStarting</b>
</td>
<td width="60pt">
</td>
<td><!-- PLAIN TEXT CODE FOR BOTS |table mapinfo|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="Table.html" class="kw3"><span class="kw3">table</span></a> mapinfo</pre></div></div>
</td></tr>
</table>
<table class="wikitable" border="0">

<tr>
<td width="200pt"><b>onClientPlayerFinish</b>
</td>
<td width="60pt">player
</td>
<td height="38pt">
</td></tr>
</table>
<table class="wikitable" border="0">

<tr>
<td width="200pt"><b>onClientPlayerOutOfTime</b>
</td>
<td width="60pt">player
</td>
<td height="38pt">
</td></tr>
</table>
<table class="wikitable" border="0">

<tr>
<td width="200pt"><b>onClientMapStopping</b>
</td>
<td width="60pt">
</td>
<td height="38pt">
</td></tr>
</table>
<table class="wikitable" border="0">

<tr>
<td width="200pt"><b>onClientScreenFadedOut</b>
</td>
<td width="60pt">
</td>
<td height="38pt">
</td></tr>
</table>
<table class="wikitable" border="0">

<tr>
<td width="200pt"><b>onClientScreenFadedIn</b>
</td>
<td width="60pt">
</td>
<td height="38pt">
</td></tr>
</table>
<h2><span class="mw-headline" id="Events_for_version_0.8.3_in_detail">Events for version 0.8.3 in detail</span></h2>
<p><b>Note:</b> You may have to add the events in your script using addEvent() if you want to use them.
</p>
<h3><span class="mw-headline" id="onRaceStateChanging">onRaceStateChanging</span></h3>
<p>Triggered when the race resource starts doing something else.
</p>
<h3><span class="mw-headline" id="Parameters">Parameters</span></h3>
<!-- PLAIN TEXT CODE FOR BOTS |string newState, string oldState|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="String-3.html" class="kw3"><span class="kw3">string</span></a> newState, <a href="String-3.html" class="kw3"><span class="kw3">string</span></a> oldState</pre></div></div>
<ul>
<li><b>newState:</b> the new state
</li>
<li><b>oldState:</b> the old state
</li>
</ul>
<p>Possible states:
</p>
<ul>
<li> undefined     
</li>
<li> NoMap      
</li>
<li> LoadingMap    
</li>
<li> PreGridCountdown
</li>
<li> GridCountdown
</li>
<li> Running    
</li>
<li> MidMapVote
</li>
<li> SomeoneWon
</li>
<li> TimesUp
</li>
<li> EveryoneFinished
</li>
<li> PostFinish
</li>
<li> NextMapSelect
</li>
<li> NextMapVote
</li>
<li> ResourceStopping
</li>
</ul>
<h3><span class="mw-headline" id="Source">Source</span></h3>
<p>The root element.
</p>
<h3><span class="mw-headline" id="onPlayerReachCheckpoint">onPlayerReachCheckpoint</span></h3>
<p>Triggered when a player reaches any checkpoint but the last one.
</p>
<h4><span class="mw-headline" id="Parameters_2">Parameters</span></h4>
<!-- PLAIN TEXT CODE FOR BOTS |int checkpoint, int time|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="Int.html" class="kw3"><span class="kw3">int</span></a> checkpoint, <a href="Int.html" class="kw3"><span class="kw3">int</span></a> <span class="kw1">time</span></pre></div></div>
<ul>
<li><b>checkpoint:</b> the number of the checkpoint the player went through. The first checkpoint has number 1.
</li>
<li><b>time:</b> time since the race started, in milliseconds.
</li>
</ul>
<h4><span class="mw-headline" id="Source_2">Source</span></h4>
<p>The source is the player that reached the checkpoint.
</p>
<h3><span class="mw-headline" id="onPlayerFinish">onPlayerFinish</span></h3>
<p>Triggered when a player reaches the last checkpoint (i.e. has finished the race)
</p>
<h4><span class="mw-headline" id="Parameters_3">Parameters</span></h4>
<!-- PLAIN TEXT CODE FOR BOTS |int rank, int time|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="Int.html" class="kw3"><span class="kw3">int</span></a> rank, <a href="Int.html" class="kw3"><span class="kw3">int</span></a> <span class="kw1">time</span></pre></div></div>
<ul>
<li><b>rank:</b> the player's rank. 1 means he won the race, 2 that he came in second place, etc.
</li>
<li><b>time:</b> time since the race started, in milliseconds.
</li>
</ul>
<h4><span class="mw-headline" id="Source_3">Source</span></h4>
<p>The source is the player that finished the race.
</p>
<h3><span class="mw-headline" id="onPlayerPickUpRacePickup">onPlayerPickUpRacePickup</span></h3>
<h4><span class="mw-headline" id="Parameters_4">Parameters</span></h4>
<!-- PLAIN TEXT CODE FOR BOTS |int/string pickupID, string pickupType, int vehicleModel|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="Int.html" class="kw3"><span class="kw3">int</span></a><span class="sy0">/</span><a href="String-3.html" class="kw3"><span class="kw3">string</span></a> pickupID, <a href="String-3.html" class="kw3"><span class="kw3">string</span></a> pickupType, <a href="Int.html" class="kw3"><span class="kw3">int</span></a> vehicleModel</pre></div></div>
<ul>
<li><b>pickupID:</b> the number of the pickup in case of NRP:Race syntax (starting at 1), or the "id" attribute of the pickup in case of DM syntax.
</li>
<li><b>pickupType:</b> the pickup type. Can be "nitro", "repair" or "vehiclechange".
</li>
<li><b>vehicleModel:</b> if the pickup is of type vehiclechange, this is the vehicle model that it sets.
</li>
</ul>
<h4><span class="mw-headline" id="Source_4">Source</span></h4>
<p>The source is the player that picked up the pickup.
</p>
<h2><span class="mw-headline" id="Element_data">Element data</span></h2>
<p>These element data are set on each player:
</p>
<ul>
<li><b>race rank:</b> the current position of the player in the race. 1 = first, 2 = second etc. Updated on a 1 second interval.
</li>
<li><b>race.checkpoint:</b> the number of the checkpoint the player is <i>heading for</i>. When the player spawns this number is 1, after he passed the first checkpoint it's 2, etc.
</li>
<li><b>race.finished:</b> <i>true</i> if the player has finished, <i>false</i> if he's still racing.
</li>
</ul>
<p>This server only element data is set for the resource root element:
</p>
<ul>
<li><b>info:</b> which contains a table with these sub-tables: <b>mapInfo</b>, <b>mapOptions</b> and <b>gameOptions</b>.
</li>
</ul>
<h2><span class="mw-headline" id="Super_Advanced_Element_data">Super Advanced Element data</span></h2>
<p>You can also set player element data to change the player collision status and render transparency:
</p>
<!-- PLAIN TEXT CODE FOR BOTS |e.g. setElementData( thePlayer, "overrideCollide.uniqueblah", 0, false ) setElementData( thePlayer, "overrideCollide.uniqueblah", nil, false ) setElementData( thePlayer, "overrideAlpha.uniqueblah", 120, false ) setElementData( thePlayer, "overrideAlpha.uniqueblah", nil, false ) -- Alpha 'default' for this player|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1">e.g. <a href="SetElementData.html" class="kw2"><span class="kw2">setElementData</span></a><span class="br0">&#40;</span> thePlayer, <span class="st0">&quot;overrideCollide.uniqueblah&quot;</span>, <span class="nu0">0</span>, <span class="kw1">false</span> <span class="br0">&#41;</span>		<span class="co1">-- Collide 'off' for this player</span>
     <a href="SetElementData.html" class="kw2"><span class="kw2">setElementData</span></a><span class="br0">&#40;</span> thePlayer, <span class="st0">&quot;overrideCollide.uniqueblah&quot;</span>, <span class="kw1">nil</span>, <span class="kw1">false</span> <span class="br0">&#41;</span>		<span class="co1">-- Collide 'default' for this player</span>
     <a href="SetElementData.html" class="kw2"><span class="kw2">setElementData</span></a><span class="br0">&#40;</span> thePlayer, <span class="st0">&quot;overrideAlpha.uniqueblah&quot;</span>, <span class="nu0">120</span>, <span class="kw1">false</span> <span class="br0">&#41;</span>		<span class="co1">-- Alpha '120 maximum' for this player</span>
     <a href="SetElementData.html" class="kw2"><span class="kw2">setElementData</span></a><span class="br0">&#40;</span> thePlayer, <span class="st0">&quot;overrideAlpha.uniqueblah&quot;</span>, <span class="kw1">nil</span>, <span class="kw1">false</span> <span class="br0">&#41;</span>		<span class="co1">-- Alpha 'default' for this player</span></pre></div></div>
<p>Set 'uniqueblah' to whatever you like (up to 15 characters long)
</p>
<h2><span class="mw-headline" id="Exported_Server_functions">Exported Server functions</span></h2>
<table class="wikitable" border="0">

<tr>
<td width="80pt"><!-- PLAIN TEXT CODE FOR BOTS |int|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="Int.html" class="kw3"><span class="kw3">int</span></a></pre></div></div>
</td>
<td width="110pt"><b>getTimePassed</b>
</td>
<td height="38pt">
</td></tr>
</table>
<table class="wikitable" border="0">

<tr>
<td width="80pt"><!-- PLAIN TEXT CODE FOR BOTS |int|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="Int.html" class="kw3"><span class="kw3">int</span></a></pre></div></div>
</td>
<td width="110pt"><b>getPlayerRank</b>
</td>
<td><!-- PLAIN TEXT CODE FOR BOTS |player thePlayer|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="Player.html" class="kw3"><span class="kw3">player</span></a> thePlayer</pre></div></div>
</td></tr>
</table>
<table class="wikitable" border="0">

<tr>
<td width="80pt"><!-- PLAIN TEXT CODE FOR BOTS |boolean|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="Boolean.html" class="kw3"><span class="kw3">boolean</span></a></pre></div></div>
</td>
<td width="110pt"><b>isPlayerFinished</b>
</td>
<td><!-- PLAIN TEXT CODE FOR BOTS |player thePlayer|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="Player.html" class="kw3"><span class="kw3">player</span></a> thePlayer</pre></div></div>
</td></tr>
</table>
<table class="wikitable" border="0">

<tr>
<td width="80pt"><!-- PLAIN TEXT CODE FOR BOTS |vehicle|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="Vehicle.html" class="kw3"><span class="kw3">vehicle</span></a></pre></div></div>
</td>
<td width="110pt"><b>getPlayerVehicle</b>
</td>
<td><!-- PLAIN TEXT CODE FOR BOTS |player thePlayer|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="Player.html" class="kw3"><span class="kw3">player</span></a> thePlayer</pre></div></div>
</td></tr>
</table>

<!-- 
NewPP limit report
CPU time usage: 0.519 seconds
Real time usage: 0.520 seconds
Preprocessor visited node count: 268/1000000
Preprocessor generated node count: 592/1000000
Post‐expand include size: 186/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key nrp_wiki_1_22_13-wiki_dev_:pcache:idhash:3522-0!*!0!!*!*!* and timestamp 20150826134635
 -->
</div><div class="printfooter">
Retrieved from "<a index.html?title=Resource:Race&amp;oldid=30810">/index.php?title=Resource:Race&amp;oldid=30810</a>"</div>
		<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="Category_Resource.html" title="Category:Resource">Resource</a></li></ul></div></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-resource" class="selected"><a href="Resource_Race.html"Array>Resource</a></li>
				 <li id="ca-talk" class="new"><a index.html?title=:Race&amp;action=edit&amp;redlink=1"Array>Discussion</a></li>
				 <li id="ca-viewsource"><a index.html?title=Resource:Race&amp;action=edit"Array>View source</a></li>
				 <li id="ca-history"><a index.html?title=Resource:Race&amp;action=history"Array>History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a index.html?title=Special:UserLogin&amp;returnto=Resource%3ARace"Array></a></li>
			</ul>
		</div>
	</div>
	
	<div class="portlet" id="p-logo">
		<a style="background-image: url();" href="Main_Page.html"Array></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Home"><a href="Main_Page.html"Array>Home</a></li>
				<li id="n-How-you-can-help"><a href="How_you_can_help.html"Array>How you can help</a></li>
				<li id="n-recentchanges"><a href="Special_RecentChanges.html"Array>Recent changes</a></li>
				<li id="n-randompage"><a href="OnElementDataChange.html"Array>Random page</a></li>
			</ul>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-reference'>
		<h5>reference</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Client-Functions"><a href="Client_Scripting_Functions.html"Array>Client Functions</a></li>
				<li id="n-Client-Events"><a href="Client_Scripting_Events.html"Array>Client Events</a></li>
				<li id="n-Server-Functions"><a href="Server_Scripting_Functions.html"Array>Server Functions</a></li>
				<li id="n-Server-Events"><a href="Server_Scripting_Events.html"Array>Server Events</a></li>
				<li id="n-Useful-Functions"><a href="Useful_Functions.html"Array>Useful Functions</a></li>
				<li id="n-NRP-Classes"><a href="NRP_Classes.html"Array>NRP Classes</a></li>
				<li id="n-NRP-Elements"><a href="Element.html"Array>NRP Elements</a></li>
				<li id="n-Element-Tree"><a href="Element_tree.html"Array>Element Tree</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		
		<div id="searchBody" class="pBody">
			<form action="/index.php" id="searchform"><div>
				
				
				
				
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Tools</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Resource_Race.html"Array>What links here</a></li>
				<li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Resource_Race.html"Array>Related changes</a></li>
<li id="t-specialpages"><a href="Special_SpecialPages.html"Array>Special pages</a></li>
				<li id="t-print"><a index.html?title=Resource:Race&amp;printable=yes" rel="alternate"Array>Printable version</a></li>				<li id="t-permalink"><a index.html?title=Resource:Race&amp;oldid=30810"Array>Permanent link</a></li>			</ul>
		</div>
	</div>
	<div id="p-lang" class="portlet">
		<h5>In other languages</h5>
		<div class="pBody">
			<ul>
				<li class="interwiki-ru"><a href="../wiki/RU/Resource:Race">Русский</a></li>
			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" height="31" width="88" alt="Powered by MediaWiki" /></a></div>
				<div id="f-copyrightico"><a href="http://www.gnu.org/copyleft/fdl.html"><img src="../skins/common/images/gnu-fdl.png" alt="GNU Free Documentation License 1.2" width="88" height="31" /></a></div>
	<ul id="f-list">
					<li id="lastmod"> This page was last modified on 17 May 2012, at 13:55.</li>
					<li id="viewcount">This page has been accessed 37,706 times.</li>
					<li id="copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.2</a> unless otherwise noted.</li>
					<li id="privacy"><a href="Nexus_RP__Wiki_Privacy_policy.html" title="Nexus RP: Wiki:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="Nexus_RP__Wiki_About.html" title="Nexus RP: Wiki:About">About Nexus RP: Wiki</a></li>
					<li id="disclaimer"><a href="Nexus_RP__Wiki_General_disclaimer.html" title="Nexus RP: Wiki:General disclaimer">Disclaimers</a></li>
			</ul>
</div>
</div>
<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.cite"],null,true);
}</script>
<script src="/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=nrpbook&amp;*"></script>
<!-- Served in 0.043 secs. --></body>
<!-- Mirrored from wiki.nexusrp.com/wiki/Resource:Race by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 27 Aug 2015 07:29:09 GMT -->
</html>
