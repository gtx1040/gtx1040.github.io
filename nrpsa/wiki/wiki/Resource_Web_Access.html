<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	
<!-- Mirrored from wiki.nexusrp.com/wiki/Resource_Web_Access by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 27 Aug 2015 07:28:26 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="generator" content="MediaWiki 1.22.13" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="Nexus RP: Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="/api.php?action=rsd" />
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
<link rel="alternate" type="application/atom+xml" title="Nexus RP: Wiki Atom feed" index.html?title=Special:RecentChanges&amp;feed=atom" />		<title>Resource Web Access - Nexus RP: Wiki</title>
		<link rel="stylesheet" href="/load.php?debug=false&amp;lang=en&amp;modules=ext.rtlcite%7Cmediawiki.legacy.commonPrint%2Cshared&amp;only=styles&amp;skin=nrpbook&amp;*" />
<link rel="stylesheet" href="../skins/nrpbook/main11b9.css?303" media="screen" />
<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins/nrpbook/IE50Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 5.5000]><link rel="stylesheet" href="/skins/nrpbook/IE55Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" href="/skins/nrpbook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/skins/nrpbook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=nrpbook&amp;*" />
<style>a:lang(ar),a:lang(ckb),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: nrp_wiki_1_22_13-wiki_dev_:resourceloader:filter:minify-css:7:68ffccca97fd0532df6141dcbaf256b6 */</style>

		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?303"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Resource_Web_Access","wgTitle":"Resource Web Access","wgCurRevisionId":39865,"wgRevisionId":39865,"wgArticleId":2709,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Changes in 1.3.1","Scripting Concepts","Tutorials"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransforNRPble":["",""],"wgDigitTransforNRPble":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Resource_Web_Access","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script>
		<script type="text/javascript" src="../skins/common/wikibits11b9.js?303"><!-- wikibits js --></script>
		<!-- Head Scripts -->
<script src="/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=nrpbook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Resource_Web_Access","wgTitle":"Resource Web Access","wgCurRevisionId":39865,"wgRevisionId":39865,"wgArticleId":2709,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Changes in 1.3.1","Scripting Concepts","Tutorials"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransforNRPble":["",""],"wgDigitTransforNRPble":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Resource_Web_Access","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"nrpbook","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"vector-simplesearch":1,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,
"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"useeditwarning":1,"prefershttps":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs100":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: nrp_wiki_1_22_13-wiki_dev_:resourceloader:filter:minify-js:7:925126ceab977200cdcc48193642dea0 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script><style type="text/css">/*<![CDATA[*/
.source-xml {line-height: normal;}
.source-xml li, .source-xml pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for xml
 * CSS class: source-xml, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.xml.source-xml .de1, .xml.source-xml .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.xml.source-xml  {font-family:monospace;}
.xml.source-xml .imp {font-weight: bold; color: red;}
.xml.source-xml li, .xml.source-xml .li1 {font-weight: normal; vertical-align:top;}
.xml.source-xml .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.xml.source-xml .li2 {font-weight: bold; vertical-align:top;}
.xml.source-xml .es0 {color: #000099; font-weight: bold;}
.xml.source-xml .br0 {color: #66cc66;}
.xml.source-xml .sy0 {color: #66cc66;}
.xml.source-xml .st0 {color: #ff0000;}
.xml.source-xml .nu0 {color: #cc66cc;}
.xml.source-xml .sc-1 {color: #808080; font-style: italic;}
.xml.source-xml .sc0 {color: #00bbdd;}
.xml.source-xml .sc1 {color: #ddbb00;}
.xml.source-xml .sc2 {color: #339933;}
.xml.source-xml .sc3 {color: #009900;}
.xml.source-xml .re0 {color: #000066;}
.xml.source-xml .re1 {color: #000000; font-weight: bold;}
.xml.source-xml .re2 {color: #000000; font-weight: bold;}
.xml.source-xml .ln-xtra, .xml.source-xml li.ln-xtra, .xml.source-xml div.ln-xtra {background-color: #ffc;}
.xml.source-xml span.xtra { display:block; }

/*]]>*/
</style><style type="text/css">/*<![CDATA[*/
.source-html4strict {line-height: normal;}
.source-html4strict li, .source-html4strict pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for html4strict
 * CSS class: source-html4strict, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.html4strict.source-html4strict .de1, .html4strict.source-html4strict .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.html4strict.source-html4strict  {font-family:monospace;}
.html4strict.source-html4strict .imp {font-weight: bold; color: red;}
.html4strict.source-html4strict li, .html4strict.source-html4strict .li1 {font-weight: normal; vertical-align:top;}
.html4strict.source-html4strict .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.html4strict.source-html4strict .li2 {font-weight: bold; vertical-align:top;}
.html4strict.source-html4strict .kw2 {color: #000000; font-weight: bold;}
.html4strict.source-html4strict .kw3 {color: #000066;}
.html4strict.source-html4strict .es0 {color: #000099; font-weight: bold;}
.html4strict.source-html4strict .br0 {color: #66cc66;}
.html4strict.source-html4strict .sy0 {color: #66cc66;}
.html4strict.source-html4strict .st0 {color: #ff0000;}
.html4strict.source-html4strict .nu0 {color: #cc66cc;}
.html4strict.source-html4strict .sc-2 {color: #404040;}
.html4strict.source-html4strict .sc-1 {color: #808080; font-style: italic;}
.html4strict.source-html4strict .sc0 {color: #00bbdd;}
.html4strict.source-html4strict .sc1 {color: #ddbb00;}
.html4strict.source-html4strict .sc2 {color: #009900;}
.html4strict.source-html4strict .ln-xtra, .html4strict.source-html4strict li.ln-xtra, .html4strict.source-html4strict div.ln-xtra {background-color: #ffc;}
.html4strict.source-html4strict span.xtra { display:block; }

/*]]>*/
</style><style type="text/css">/*<![CDATA[*/
.source-lua {line-height: normal;}
.source-lua li, .source-lua pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for lua
 * CSS class: source-lua, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.lua.source-lua .de1, .lua.source-lua .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.lua.source-lua  {font-family:monospace;}
.lua.source-lua .imp {font-weight: bold; color: red;}
.lua.source-lua li, .lua.source-lua .li1 {font-weight: normal; vertical-align:top;}
.lua.source-lua .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.lua.source-lua .li2 {font-weight: bold; vertical-align:top;}
.lua.source-lua .kw1 {color: #b1b100;}
.lua.source-lua .co1 {color: #808080; font-style: italic;}
.lua.source-lua .coMULTI {color: #808080; font-style: italic;}
.lua.source-lua .es0 {color: #000099; font-weight: bold;}
.lua.source-lua .br0 {color: #66cc66;}
.lua.source-lua .sy0 {color: #66cc66;}
.lua.source-lua .st0 {color: #00A600;}
.lua.source-lua .nu0 {color: #cc66cc;}
.lua.source-lua .me0 {color: #b1b100;}
.lua.source-lua .ln-xtra, .lua.source-lua li.ln-xtra, .lua.source-lua div.ln-xtra {background-color: #ffc;}
.lua.source-lua span.xtra { display:block; }

/*]]>*/
</style>	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Resource_Web_Access skin-nrpbook">
	<div id="globalWrapper">
		
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
			<h1 id="firstHeading" class="firstHeading">Resource Web Access</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Nexus RP: Wiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>		<!-- start content -->
<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>The Nexus RP Server provides a web interface that resources can use in a variety of ways. This document's purpose is to explain what these ways are and how to go about using them.
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Pages"><span class="tocnumber">2</span> <span class="toctext">Pages</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Specifying_a_file_in_the_meta"><span class="tocnumber">2.1</span> <span class="toctext">Specifying a file in the meta</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Binary_files"><span class="tocnumber">2.2</span> <span class="toctext">Binary files</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Parsed_files"><span class="tocnumber">2.3</span> <span class="toctext">Parsed files</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Calls"><span class="tocnumber">3</span> <span class="toctext">Calls</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Protocol"><span class="tocnumber">3.1</span> <span class="toctext">Protocol</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Calls_from_the_HTTP_web_interface"><span class="tocnumber">3.2</span> <span class="toctext">Calls from the HTTP web interface</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Securing_the_web_interface"><span class="tocnumber">4</span> <span class="toctext">Securing the web interface</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#SDK"><span class="tocnumber">5</span> <span class="toctext">SDK</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#See_Also"><span class="tocnumber">6</span> <span class="toctext">See Also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Overview">Overview</span></h2>
<p>There are two key parts that make up this system. The first is a standard web server that allows web browsers to request pages and files you have in a resource. The second is a system for allowing web browsers to call functions you have exported from your resource.
</p>
<h2><span class="mw-headline" id="Pages">Pages</span></h2>
<h3><span class="mw-headline" id="Specifying_a_file_in_the_meta">Specifying a file in the meta</span></h3>
<p>You can specify in your resource's meta file that certain files are accessible through the web server. To do this, you add a line:
</p>
<!-- PLAIN TEXT CODE FOR BOTS |<html src="filename.ext" />|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;html</span> <span class="re0">src</span>=<span class="st0">&quot;filename.ext&quot;</span> <span class="re2">/&gt;</span></span></pre></div></div>
<p>You can then access this file from your web browser by visiting: <a rel="nofollow" class="external free" href="http://host:port/resourcename/filename.ext">http://host:port/resourcename/filename.ext</a><br />
For example, on a locally hosted server using default http port with webmap started: <a rel="nofollow" class="external free" href="http://127.0.0.1:22005/webmap/map.htm">http://127.0.0.1:22005/webmap/map.htm</a>
</p><p><br />
</p>
<h3><span class="mw-headline" id="Binary_files">Binary files</span></h3>
<p>Despite the misleading name, files specified using the html node can be of any type. If they are binary files (like images, zip files) then you need to specify this in the meta file, by adding <i>raw="true"</i> to the <i>html</i> node. This means that the files are not preprocessed before being sent to the web browser.
</p><p>For example:
</p>
<!-- PLAIN TEXT CODE FOR BOTS |<html src="image.gif" raw="true" />|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;html</span> <span class="re0">src</span>=<span class="st0">&quot;image.gif&quot;</span> <span class="re0">raw</span>=<span class="st0">&quot;true&quot;</span> <span class="re2">/&gt;</span></span></pre></div></div>
<h3><span class="mw-headline" id="Parsed_files">Parsed files</span></h3>
<p>If a file is not specified in the meta file as "raw", then it is passed through a pre-processor before it is returned to the client. This pre-processor works much like PHP or ASP, but uses LUA. You can embed standard NRP scripts within HTML pages, controlling the output. Almost all standard NRP functions work, plus a number of special <a href="Template_HTTP_functions.html" title="Template:HTTP functions">HTTP Functions</a>, such as <a href="HttpWrite.html" title="HttpWrite">httpWrite</a>, a function that outputs text to the buffer.
</p><p>For example:
</p>
<!-- PLAIN TEXT CODE FOR BOTS |<html> <body> This resource is called <* httpWrite( getResourceName(getThisResource()) ) *> </body> <html>|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="html4strict source-html4strict"><pre class="de1"><span class="sc2">&lt;<span class="kw2">html</span>&gt;</span>
    <span class="sc2">&lt;<span class="kw2">body</span>&gt;</span>
        This resource is called <span class="sc2">&lt;* httpWrite<span class="br0">&#40;</span> getResourceName<span class="br0">&#40;</span>getThisResource<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#41;</span> *&gt;</span>
    <span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">body</span>&gt;</span>
<span class="sc2">&lt;<span class="kw2">html</span>&gt;</span></pre></div></div>
<p>There is a shorthand (in common with PHP and ASP) for this code, meaning that you can also write the above code as:
</p>
<!-- PLAIN TEXT CODE FOR BOTS |<html> <body> This resource is called <* = getResourceName(getThisResource()) *> </body> <html>|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="html4strict source-html4strict"><pre class="de1"><span class="sc2">&lt;<span class="kw2">html</span>&gt;</span>
    <span class="sc2">&lt;<span class="kw2">body</span>&gt;</span>
        This resource is called <span class="sc2">&lt;* <span class="sy0">=</span> getResourceName<span class="br0">&#40;</span>getThisResource<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> *&gt;</span>
    <span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">body</span>&gt;</span>
<span class="sc2">&lt;<span class="kw2">html</span>&gt;</span></pre></div></div>
<p>Aside from HTTP functions, embedded Lua has access to the following environment variables that contain information about how the page was requested:
</p>
<ul>
<li> table <b>requestHeaders</b>: This is a table containing all the headers that were requested with the page. You can set returned headers using <a href="HttpSetResponseHeader.html" title="HttpSetResponseHeader">httpSetResponseHeader</a>. 
</li>
<li> table <b>form</b>: This is a table containing all the form data submitted to the page using HTTP POST combined with any variables passed in the querystring with HTTP GET.
</li>
<li> table <b>cookies</b>: This is a table of all the cookies. You can modify cookies using <a href="HttpSetResponseCookie.html" title="HttpSetResponseCookie">httpSetResponseCookie</a>.
</li>
<li> string <b>hostname</b>: This is a string containing the IP address or hostname that requested the page.
</li>
<li> string <b>url</b>: This is the URL of the page.
</li>
<li> account <b>user</b>: This is the account of the current user.
</li>
</ul>
<p>It's important to note that parsed files are run in a separate virtual machine from the rest of your resource's code. As such, if you want to call a function in your resource's main code, you need to export the function and use the <a href="Call.html" title="Call">call</a> function from your parsed file.
</p>
<h2><span class="mw-headline" id="Calls">Calls</span></h2>
<p>You can specify that certain exported functions in your resource are able to be called from the HTTP interface. All the SDKs (listed below) allow you to call these functions from a remote location. 
</p><p>To specify an exported http-accessible function, add the following to your meta.xml file:
</p>
<!-- PLAIN TEXT CODE FOR BOTS |<export function='functionName' http='true' />|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;export</span> <span class="re0">function</span>=<span class="st0">'functionName'</span> <span class="re0">http</span>=<span class="st0">'true'</span> <span class="re2">/&gt;</span></span></pre></div></div>
<p>You can code your function just as you would any normal function, returning as many values as you want, including tables and resources and most importantly elements. You <i>cannot</i> however return other 'userdata' values such as <a href="Xmlnode.html" title="Xmlnode">xmlnodes</a> or functions.
</p>
<h3><span class="mw-headline" id="Protocol">Protocol</span></h3>
<div style="border: 1px solid #AFAFAF; border-right: 5px solid #AFAFAF; background: #FFFF99; float: right; width: 200px; padding: 5px; margin: 5px; margin-right: 0px;"><b>Note:</b>
You don't need to know this unless you're writing your own HTTP request code. You can just use one of the <a href="#SDK">SDKs listed below</a>.</div>
<p>Calls are done by requesting <i>http://&lt;your IP&gt;:&lt;your port&gt;/&lt;resource_name&gt;/call/&lt;exported_function_name&gt;</i> using HTTP POST. The body of the request should be a JSON array of the arguments for the function.
</p><p>The request will return a JSON array of the value(s) returned from the function as the HTTP response.
</p><p>The server supports HTTP Basic authentication and you can configure access via the ACL and the built-in accounts system.
</p>
<h3><span class="mw-headline" id="Calls_from_the_HTTP_web_interface">Calls from the HTTP web interface</span></h3>
<p>Using calls is probably easiest from the web interface and can be done almost seamlessly.
</p><p>First, add this to your meta.xml file:
</p>
<!-- PLAIN TEXT CODE FOR BOTS |<include resource="ajax" />|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;include</span> <span class="re0">resource</span>=<span class="st0">&quot;ajax&quot;</span> <span class="re2">/&gt;</span></span></pre></div></div>
<p>Secondly, add the following to the &lt;head&gt; section of the page you want to call from:
</p>
<!-- PLAIN TEXT CODE FOR BOTS |<* = exports.ajax:start(getResourceName(getThisResource())) *>|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><span class="sy0">&lt;*</span> <span class="sy0">=</span> exports.ajax:start<span class="br0">&#40;</span><a href="GetResourceName.html" class="kw2"><span class="kw2">getResourceName</span></a><span class="br0">&#40;</span><a href="GetThisResource.html" class="kw2"><span class="kw2">getThisResource</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy0">*&gt;</span></pre></div></div>
<p>Finally, you can create a javascript block in your page and call your functions almost as if they were local. The only difference is that the calls are aysnchronous - you should specify a callback function as the last argument for your call. This is called when the function returns.
</p><p>Here's a simple example.
</p><p><b>meta.xml</b>
</p>
<!-- PLAIN TEXT CODE FOR BOTS |<meta> <include resource="ajax" /> <script src='code.lua' /> <html src='page.htm' default='true' /> <export function='showChatMessage' http='true' /> </meta>|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="xml source-xml"><pre class="de1"><span class="sc3"><span class="re1">&lt;meta<span class="re2">&gt;</span></span></span>
   <span class="sc3"><span class="re1">&lt;include</span> <span class="re0">resource</span>=<span class="st0">&quot;ajax&quot;</span> <span class="re2">/&gt;</span></span>
   <span class="sc3"><span class="re1">&lt;script</span> <span class="re0">src</span>=<span class="st0">'code.lua'</span> <span class="re2">/&gt;</span></span>
   <span class="sc3"><span class="re1">&lt;html</span> <span class="re0">src</span>=<span class="st0">'page.htm'</span> <span class="re0">default</span>=<span class="st0">'true'</span> <span class="re2">/&gt;</span></span>
   <span class="sc3"><span class="re1">&lt;export</span> <span class="re0">function</span>=<span class="st0">'showChatMessage'</span> <span class="re0">http</span>=<span class="st0">'true'</span> <span class="re2">/&gt;</span></span>
<span class="sc3"><span class="re1">&lt;/meta<span class="re2">&gt;</span></span></span></pre></div></div>
<p><b>code.lua</b>
</p>
<!-- PLAIN TEXT CODE FOR BOTS |function showChatMessage ( message ) outputChatBox ( message ) return 5; end|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><span class="kw1">function</span> showChatMessage <span class="br0">&#40;</span> message <span class="br0">&#41;</span>
    <a href="OutputChatBox.html" class="kw6"><span class="kw6">outputChatBox</span></a> <span class="br0">&#40;</span> message <span class="br0">&#41;</span>
    <span class="kw1">return</span> <span class="nu0">5</span><span class="sy0">;</span>
<span class="kw1">end</span></pre></div></div>
<p><b>page.htm</b>
</p>
<!-- PLAIN TEXT CODE FOR BOTS |<html> <head> <* = exports.ajax:start(getResourceName(getThisResource())) *> <script type='text/javascript'> function say() { var message = document.getElementById('message') showChatMessage ( message.value, function ( number ) { // the function has been called and returned something message.value = "The function returned " + number; } ); } </script> </head> <body> <input type='text' id='message' /><input type='button' value='say' onclick='say();' /> </body> </html>|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="html4strict source-html4strict"><pre class="de1"><span class="sc2">&lt;<span class="kw2">html</span>&gt;</span>
    <span class="sc2">&lt;<span class="kw2">head</span>&gt;</span>
        <span class="sc2">&lt;* <span class="sy0">=</span> exports.ajax:<span class="kw3">start</span><span class="br0">&#40;</span>getResourceName<span class="br0">&#40;</span>getThisResource<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> *&gt;</span>
        <span class="sc2">&lt;<span class="kw2">script</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">'text/javascript'</span>&gt;</span>
            function say() {
                var message = document.getElementById('message')
                showChatMessage ( message.value, 
                    function ( number ) {
                        // the function has been called and returned something
                        message.value = &quot;The function returned &quot; + number;
                    }
                );
            }
        <span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">script</span>&gt;</span>
    <span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">head</span>&gt;</span>
    <span class="sc2">&lt;<span class="kw2">body</span>&gt;</span>
        <span class="sc2">&lt;<span class="kw2">input</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">'text'</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">'message'</span> <span class="sy0">/</span>&gt;&lt;<span class="kw2">input</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">'button'</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">'say'</span> <span class="kw3">onclick</span><span class="sy0">=</span><span class="st0">'say();'</span> <span class="sy0">/</span>&gt;</span>
    <span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">body</span>&gt;</span>
<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">html</span>&gt;</span></pre></div></div>
<p>You can see (fairly complex) examples of how this can be done in the resources <i>resourcebrowser</i>, <i>resourcemanager</i> and <i>webadmin</i>.
</p>
<h2><span class="mw-headline" id="Securing_the_web_interface">Securing the web interface</span></h2>
<p>The <a href="ACL.html" title="ACL" class="mw-redirect">ACL</a> has a number of rights that can affect what files can be accessed.
</p>
<ul>
<li> <b>resource.ResourceName.http</b>: If enabled, the resource will be accessible from <a rel="nofollow" class="external free" href="http://server_ip:22005/ResourceName/">http://server_ip:22005/ResourceName/</a>
</li>
</ul>
<p>This works as with other ACL rights - You can enable it just for Admin users, or any other group of users you wish.
</p>
<h2><span class="mw-headline" id="SDK">SDK</span></h2>
<p>There are a number of so-called 'SDKs' available that allow you to interface with the server from other programming languages. With these you could (in theory) write whole gamemodes. In practice this is probably a bad idea, but it is useful for statistics and administration. The PHP SDK is the most developed version. Feel free to modify or create your own SDKs - if you do please send us a copy.
</p>
<ul>
<li> <a href="JavaSDK.html" title="JavaSDK">Java SDK</a>
</li>
<li> <a href="Javascript_SDK.html" title="Javascript SDK">Javascript SDK</a>
</li>
<li> <a href="Perl_SDK.html" title="Perl SDK">Perl SDK</a>
</li>
<li> <a href="PHP_SDK.html" title="PHP SDK">PHP SDK</a>
</li>
<li> <a href="CSharp_SDK.html" title="CSharp SDK">C# SDK</a>
</li>
</ul>
<h2><span class="mw-headline" id="See_Also">See Also</span></h2>
<p><a href="CallRemote.html" title="CallRemote">callRemote</a> - Allows game servers to call functions on PHP pages (with the PHP SDK) and on other game servers.
</p>
<!-- 
NewPP limit report
CPU time usage: 0.080 seconds
Real time usage: 0.085 seconds
Preprocessor visited node count: 176/1000000
Preprocessor generated node count: 532/1000000
Post‐expand include size: 842/2097152 bytes
Template argument size: 389/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key nrp_wiki_1_22_13-wiki_dev_:pcache:idhash:2709-0!*!0!!en!*!* and timestamp 20150826123055
 -->
</div><div class="printfooter">
Retrieved from "<a index.html?title=Resource_Web_Access&amp;oldid=39865">/index.php?title=Resource_Web_Access&amp;oldid=39865</a>"</div>
		<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Categories</a>: <ul><li><a index.html?title=Category:Changes_in_1.3.1&amp;action=edit&amp;redlink=1" class="new" title="Category:Changes in 1.3.1 (page does not exist)">Changes in 1.3.1</a></li><li><a href="Category_Scripting_Concepts.html" title="Category:Scripting Concepts">Scripting Concepts</a></li><li><a href="Category_Tutorials.html" title="Category:Tutorials">Tutorials</a></li></ul></div></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="Resource_Web_Access.html"Array>Page</a></li>
				 <li id="ca-talk" class="new"><a index.html?title=Talk:Resource_Web_Access&amp;action=edit&amp;redlink=1"Array>Discussion</a></li>
				 <li id="ca-viewsource"><a index.html?title=Resource_Web_Access&amp;action=edit"Array>View source</a></li>
				 <li id="ca-history"><a index.html?title=Resource_Web_Access&amp;action=history"Array>History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a index.html?title=Special:UserLogin&amp;returnto=Resource+Web+Access"Array></a></li>
			</ul>
		</div>
	</div>
	
	<div class="portlet" id="p-logo">
		<a style="background-image: url();" href="Main_Page.html"Array></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Home"><a href="Main_Page.html"Array>Home</a></li>
				<li id="n-How-you-can-help"><a href="How_you_can_help.html"Array>How you can help</a></li>
				<li id="n-recentchanges"><a href="Special_RecentChanges.html"Array>Recent changes</a></li>
				<li id="n-randompage"><a href="OnElementDataChange.html"Array>Random page</a></li>
			</ul>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-reference'>
		<h5>reference</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Client-Functions"><a href="Client_Scripting_Functions.html"Array>Client Functions</a></li>
				<li id="n-Client-Events"><a href="Client_Scripting_Events.html"Array>Client Events</a></li>
				<li id="n-Server-Functions"><a href="Server_Scripting_Functions.html"Array>Server Functions</a></li>
				<li id="n-Server-Events"><a href="Server_Scripting_Events.html"Array>Server Events</a></li>
				<li id="n-Useful-Functions"><a href="Useful_Functions.html"Array>Useful Functions</a></li>
				<li id="n-NRP-Classes"><a href="NRP_Classes.html"Array>NRP Classes</a></li>
				<li id="n-NRP-Elements"><a href="Element.html"Array>NRP Elements</a></li>
				<li id="n-Element-Tree"><a href="Element_tree.html"Array>Element Tree</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		
		<div id="searchBody" class="pBody">
			<form action="/index.php" id="searchform"><div>
				
				
				
				
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Tools</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Resource_Web_Access.html"Array>What links here</a></li>
				<li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Resource_Web_Access.html"Array>Related changes</a></li>
<li id="t-specialpages"><a href="Special_SpecialPages.html"Array>Special pages</a></li>
				<li id="t-print"><a index.html?title=Resource_Web_Access&amp;printable=yes" rel="alternate"Array>Printable version</a></li>				<li id="t-permalink"><a index.html?title=Resource_Web_Access&amp;oldid=39865"Array>Permanent link</a></li>			</ul>
		</div>
	</div>
	<div id="p-lang" class="portlet">
		<h5>In other languages</h5>
		<div class="pBody">
			<ul>
				<li class="interwiki-ru"><a href="../wiki/RU/Resource_Web_Access">Русский</a></li>
			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" height="31" width="88" alt="Powered by MediaWiki" /></a></div>
				<div id="f-copyrightico"><a href="http://www.gnu.org/copyleft/fdl.html"><img src="../skins/common/images/gnu-fdl.png" alt="GNU Free Documentation License 1.2" width="88" height="31" /></a></div>
	<ul id="f-list">
					<li id="lastmod"> This page was last modified on 14 June 2014, at 09:55.</li>
					<li id="viewcount">This page has been accessed 44,063 times.</li>
					<li id="copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.2</a> unless otherwise noted.</li>
					<li id="privacy"><a href="Nexus_RP__Wiki_Privacy_policy.html" title="Nexus RP: Wiki:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="Nexus_RP__Wiki_About.html" title="Nexus RP: Wiki:About">About Nexus RP: Wiki</a></li>
					<li id="disclaimer"><a href="Nexus_RP__Wiki_General_disclaimer.html" title="Nexus RP: Wiki:General disclaimer">Disclaimers</a></li>
			</ul>
</div>
</div>
<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.cite"],null,true);
}</script>
<script src="/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=nrpbook&amp;*"></script>
<!-- Served in 0.052 secs. --></body>
<!-- Mirrored from wiki.nexusrp.com/wiki/Resource_Web_Access by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 27 Aug 2015 07:28:26 GMT -->
</html>
