<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	
<!-- Mirrored from wiki.nexusrp.com/wiki/Introduction_to_Scripting_the_GUI_-_Part_2 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 27 Aug 2015 07:33:03 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="generator" content="MediaWiki 1.22.13" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="Nexus RP: Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="/api.php?action=rsd" />
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
<link rel="alternate" type="application/atom+xml" title="Nexus RP: Wiki Atom feed" index.html?title=Special:RecentChanges&amp;feed=atom" />		<title>Introduction to Scripting the GUI - Part 2 - Nexus RP: Wiki</title>
		<link rel="stylesheet" href="/load.php?debug=false&amp;lang=en&amp;modules=ext.rtlcite%7Cmediawiki.legacy.commonPrint%2Cshared&amp;only=styles&amp;skin=nrpbook&amp;*" />
<link rel="stylesheet" href="../skins/nrpbook/main11b9.css?303" media="screen" />
<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins/nrpbook/IE50Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 5.5000]><link rel="stylesheet" href="/skins/nrpbook/IE55Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" href="/skins/nrpbook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/skins/nrpbook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=nrpbook&amp;*" />
<style>a:lang(ar),a:lang(ckb),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: nrp_wiki_1_22_13-wiki_dev_:resourceloader:filter:minify-css:7:68ffccca97fd0532df6141dcbaf256b6 */</style>

		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?303"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Introduction_to_Scripting_the_GUI_-_Part_2","wgTitle":"Introduction to Scripting the GUI - Part 2","wgCurRevisionId":39778,"wgRevisionId":39778,"wgArticleId":5027,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["GUI Tutorials"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransforNRPble":["",""],"wgDigitTransforNRPble":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Introduction_to_Scripting_the_GUI_-_Part_2","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script>
		<script type="text/javascript" src="../skins/common/wikibits11b9.js?303"><!-- wikibits js --></script>
		<!-- Head Scripts -->
<script src="/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=nrpbook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Introduction_to_Scripting_the_GUI_-_Part_2","wgTitle":"Introduction to Scripting the GUI - Part 2","wgCurRevisionId":39778,"wgRevisionId":39778,"wgArticleId":5027,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["GUI Tutorials"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransforNRPble":["",""],"wgDigitTransforNRPble":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Introduction_to_Scripting_the_GUI_-_Part_2","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"nrpbook","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"vector-simplesearch":1,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,
"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"useeditwarning":1,"prefershttps":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs100":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: nrp_wiki_1_22_13-wiki_dev_:resourceloader:filter:minify-js:7:925126ceab977200cdcc48193642dea0 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script><style type="text/css">/*<![CDATA[*/
.source-lua {line-height: normal;}
.source-lua li, .source-lua pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for lua
 * CSS class: source-lua, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.lua.source-lua .de1, .lua.source-lua .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.lua.source-lua  {font-family:monospace;}
.lua.source-lua .imp {font-weight: bold; color: red;}
.lua.source-lua li, .lua.source-lua .li1 {font-weight: normal; vertical-align:top;}
.lua.source-lua .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.lua.source-lua .li2 {font-weight: bold; vertical-align:top;}
.lua.source-lua .kw1 {color: #b1b100;}
.lua.source-lua .co1 {color: #808080; font-style: italic;}
.lua.source-lua .coMULTI {color: #808080; font-style: italic;}
.lua.source-lua .es0 {color: #000099; font-weight: bold;}
.lua.source-lua .br0 {color: #66cc66;}
.lua.source-lua .sy0 {color: #66cc66;}
.lua.source-lua .st0 {color: #00A600;}
.lua.source-lua .nu0 {color: #cc66cc;}
.lua.source-lua .me0 {color: #b1b100;}
.lua.source-lua .ln-xtra, .lua.source-lua li.ln-xtra, .lua.source-lua div.ln-xtra {background-color: #ffc;}
.lua.source-lua span.xtra { display:block; }

/*]]>*/
</style>	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Introduction_to_Scripting_the_GUI_-_Part_2 skin-nrpbook">
	<div id="globalWrapper">
		
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
			<h1 id="firstHeading" class="firstHeading">Introduction to Scripting the GUI - Part 2</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Nexus RP: Wiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>		<!-- start content -->
<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>In this tutorial we will make a simple rules window, with an accept button and a list of all the server rules &amp; information.
</p><p><b>Note that this tutorial builds on content covered in the <a href="Introduction_to_Scripting_the_GUI.html" title="Introduction to Scripting the GUI">GUI Scripting Introduction</a>.</b>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Making_the_GUI"><span class="tocnumber">1</span> <span class="toctext">Making the GUI</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Getting_set_up"><span class="tocnumber">1.1</span> <span class="toctext">Getting set up</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Making_the_window"><span class="tocnumber">1.2</span> <span class="toctext">Making the window</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Making_the_button"><span class="tocnumber">1.3</span> <span class="toctext">Making the button</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Making_the_label"><span class="tocnumber">1.4</span> <span class="toctext">Making the label</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Text"><span class="tocnumber">1.5</span> <span class="toctext">Text</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Using_the_function_we_wrote"><span class="tocnumber">1.6</span> <span class="toctext">Using the function we wrote</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Scripting_the_Button"><span class="tocnumber">2</span> <span class="toctext">Scripting the Button</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Detecting_the_click"><span class="tocnumber">2.1</span> <span class="toctext">Detecting the click</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Managing_the_click"><span class="tocnumber">2.2</span> <span class="toctext">Managing the click</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="#Checking_for_agreement"><span class="tocnumber">3</span> <span class="toctext">Checking for agreement</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#Setting_a_timer"><span class="tocnumber">3.1</span> <span class="toctext">Setting a timer</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Giving_a_warning"><span class="tocnumber">3.2</span> <span class="toctext">Giving a warning</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Kicking_the_player"><span class="tocnumber">3.3</span> <span class="toctext">Kicking the player</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Making_the_GUI">Making the GUI</span></h2>
<h3><span class="mw-headline" id="Getting_set_up">Getting set up</span></h3>
<p>The first thing we need to do is create our GUI elements.
For this tutorial we will be using one <a href="Element/GUI/Window.html" title="Element/GUI/Window">window</a>, one <a href="Element/GUI/Button.html" title="Element/GUI/Button">button</a> and one <a href="Element/GUI/Text_label.html" title="Element/GUI/Text label">label</a>.
We will be using <b>absolute</b> position values.
</p><p>As noted in the <a href="Introduction_to_Scripting_the_GUI.html" title="Introduction to Scripting the GUI">Previous tutorial</a>, all the GUI must be made client side. 
</p><p>If you are following on from that tutorial, open up your gui.lua file to work with.
</p><p>If you are not, browse to /Your NRP Server/mods/deathmatch/resources/myserver/ directory, and create a folder named "client". 
Under /client/ directory, create a text file and name it "gui.lua".
</p><p>If you have not already done so, do not forget to include the new gui.lua file in the meta.xml of the main resource, and label it as a client script:
</p>
<!-- PLAIN TEXT CODE FOR BOTS |<script src="client/gui.lua" type="client" />|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><span class="sy0">&lt;</span>script src<span class="sy0">=</span><span class="st0">&quot;client/gui.lua&quot;</span> <span class="kw1">type</span><span class="sy0">=</span><span class="st0">&quot;client&quot;</span> <span class="sy0">/&gt;</span></pre></div></div>
<p><br />
</p>
<h3><span class="mw-headline" id="Making_the_window">Making the window</span></h3>
<p>In this file we will write a funtion that draws the window:
</p>
<!-- PLAIN TEXT CODE FOR BOTS |function createRulesWindow() local sWidth, sHeight = guiGetScreenSize() local Width,Height = 445,445 local X = (sWidth/2) - (Width/2) local Y = (sHeight/2) - (Height/2) rulesWindow = guiCreateWindow(X,Y,Width,Height,"Rules",false) guiWindowSetMovable(rulesWindow,false) guiWindowSetSizable(rulesWindow,false) end|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><span class="co1">-- create the function that will hold our gui creation code</span>
<span class="kw1">function</span> createRulesWindow<span class="br0">&#40;</span><span class="br0">&#41;</span>
	<span class="co1">-- get the screen width and height</span>
	<span class="kw1">local</span> sWidth, sHeight <span class="sy0">=</span> <a href="GuiGetScreenSize.html" class="kw4"><span class="kw4">guiGetScreenSize</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span>
&#160;
	<span class="co1">-- create the window, using some maths to find the centre of the screen</span>
	<span class="kw1">local</span> Width,Height <span class="sy0">=</span> <span class="nu0">445</span>,<span class="nu0">445</span>
	<span class="kw1">local</span> X <span class="sy0">=</span> <span class="br0">&#40;</span>sWidth<span class="sy0">/</span><span class="nu0">2</span><span class="br0">&#41;</span> - <span class="br0">&#40;</span>Width<span class="sy0">/</span><span class="nu0">2</span><span class="br0">&#41;</span>
	<span class="kw1">local</span> Y <span class="sy0">=</span> <span class="br0">&#40;</span>sHeight<span class="sy0">/</span><span class="nu0">2</span><span class="br0">&#41;</span> - <span class="br0">&#40;</span>Height<span class="sy0">/</span><span class="nu0">2</span><span class="br0">&#41;</span>
&#160;
	<span class="co1">-- create the window</span>
	rulesWindow <span class="sy0">=</span> <a href="GuiCreateWindow.html" class="kw4"><span class="kw4">guiCreateWindow</span></a><span class="br0">&#40;</span>X,Y,Width,Height,<span class="st0">&quot;Rules&quot;</span>,<span class="kw1">false</span><span class="br0">&#41;</span>
&#160;
	<span class="co1">-- stop players from being able to simply move the window out of the way</span>
	<a href="GuiWindowSetMovable.html" class="kw4"><span class="kw4">guiWindowSetMovable</span></a><span class="br0">&#40;</span>rulesWindow,<span class="kw1">false</span><span class="br0">&#41;</span>
&#160;
	<span class="co1">-- stop players from being able to resize the window</span>
	<a href="GuiWindowSetSizable.html" class="kw4"><span class="kw4">guiWindowSetSizable</span></a><span class="br0">&#40;</span>rulesWindow,<span class="kw1">false</span><span class="br0">&#41;</span>
<span class="kw1">end</span></pre></div></div>
<p>This will create a basic window in the centre of the screen that cannot be moved and cannot be resized.
</p>
<h3><span class="mw-headline" id="Making_the_button">Making the button</span></h3>
<p>Next, we will add the button to the bottom of our window that players can click on to accept the rules:
</p><p><b>Note that we are now writing more code for our existing 'createRulesWindow' function. This is not a new function and is meant to replace what you already have.</b>
</p>
<!-- PLAIN TEXT CODE FOR BOTS |function createRulesWindow() local sWidth, sHeight = guiGetScreenSize() local Width,Height = 445,445 local X = (sWidth/2) - (Width/2) local Y = (sHeight/2) - (Height/2) rulesWindow = guiCreateWindow(X,Y,Width,Height,"Rules",false) guiWindowSetMovable(rulesWindow,false) guiWindowSetSizable(rulesWindow,false) rulesButton = guiCreateButton(137,394,158,37,"Accept",false,rulesWindow) end|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><span class="kw1">function</span> createRulesWindow<span class="br0">&#40;</span><span class="br0">&#41;</span>
	<span class="co1">-- get the screen width and height</span>
	<span class="kw1">local</span> sWidth, sHeight <span class="sy0">=</span> <a href="GuiGetScreenSize.html" class="kw4"><span class="kw4">guiGetScreenSize</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span>
&#160;
	<span class="co1">-- create the window, using some maths to find the centre of the screen</span>
	<span class="kw1">local</span> Width,Height <span class="sy0">=</span> <span class="nu0">445</span>,<span class="nu0">445</span>
	<span class="kw1">local</span> X <span class="sy0">=</span> <span class="br0">&#40;</span>sWidth<span class="sy0">/</span><span class="nu0">2</span><span class="br0">&#41;</span> - <span class="br0">&#40;</span>Width<span class="sy0">/</span><span class="nu0">2</span><span class="br0">&#41;</span>
	<span class="kw1">local</span> Y <span class="sy0">=</span> <span class="br0">&#40;</span>sHeight<span class="sy0">/</span><span class="nu0">2</span><span class="br0">&#41;</span> - <span class="br0">&#40;</span>Height<span class="sy0">/</span><span class="nu0">2</span><span class="br0">&#41;</span>
&#160;
	<span class="co1">-- create the window and save the window gui element in a variable called 'rulesWindow'</span>
	rulesWindow <span class="sy0">=</span> <a href="GuiCreateWindow.html" class="kw4"><span class="kw4">guiCreateWindow</span></a><span class="br0">&#40;</span>X,Y,Width,Height,<span class="st0">&quot;Rules&quot;</span>,<span class="kw1">false</span><span class="br0">&#41;</span>
&#160;
	<span class="co1">-- stop players from being able to simply move the window out of the way</span>
	<span class="co1">-- note that we use our 'rulesWindow' variable to make changes to the window</span>
	<a href="GuiWindowSetMovable.html" class="kw4"><span class="kw4">guiWindowSetMovable</span></a><span class="br0">&#40;</span>rulesWindow,<span class="kw1">false</span><span class="br0">&#41;</span>
&#160;
	<span class="co1">-- stop players from being able to resize the window</span>
	<a href="GuiWindowSetSizable.html" class="kw4"><span class="kw4">guiWindowSetSizable</span></a><span class="br0">&#40;</span>rulesWindow,<span class="kw1">false</span><span class="br0">&#41;</span>
&#160;
	<span class="co1">-- create the button and save the button gui element in a variable called 'rulesButton'</span>
	rulesButton <span class="sy0">=</span> <a href="GuiCreateButton.html" class="kw4"><span class="kw4">guiCreateButton</span></a><span class="br0">&#40;</span><span class="nu0">137</span>,<span class="nu0">394</span>,<span class="nu0">158</span>,<span class="nu0">37</span>,<span class="st0">&quot;Accept&quot;</span>,<span class="kw1">false</span>,rulesWindow<span class="br0">&#41;</span>
<span class="kw1">end</span></pre></div></div>
<h3><span class="mw-headline" id="Making_the_label">Making the label</span></h3>
<p>Next, we will add the label to the centre of our window that our rules will be displayed on:
</p><p><b>Note that we are now writing more code for our existing 'createRulesWindow' function. This is not a new function and is meant to replace what you already have.</b>
</p>
<!-- PLAIN TEXT CODE FOR BOTS |function createRulesWindow() local sWidth, sHeight = guiGetScreenSize() local Width,Height = 445,445 local X = (sWidth/2) - (Width/2) local Y = (sHeight/2) - (Height/2) rulesWindow = guiCreateWindow(X,Y,Width,Height,"Rules",false) guiWindowSetMovable(rulesWindow,false) guiWindowSetSizable(rulesWindow,false) rulesButton = guiCreateButton(137,394,158,37,"Accept",false,rulesWindow) rulesLabel = guiCreateLabel(10,25,425,359,[[ Welcome to my NRP Server! Please carefully read the rules before accepting. By accepting the rules, you are agreeing to play by them. Anyone caught breaking these rules will be kicked and/or banned from this server. If you do not accept the rules within 90 seconds, you will be kicked. 1: No cheating. 2: No bug abuse. 3: No mods to your game. 4: No flaming. 5: Respect other players. 6: Be nice!]],false,rulesWindow) guiLabelSetHorizontalAlign(rulesLabel,"center",true) end|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><span class="kw1">function</span> createRulesWindow<span class="br0">&#40;</span><span class="br0">&#41;</span>
	<span class="co1">-- get the screen width and height</span>
	<span class="kw1">local</span> sWidth, sHeight <span class="sy0">=</span> <a href="GuiGetScreenSize.html" class="kw4"><span class="kw4">guiGetScreenSize</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span>
&#160;
	<span class="co1">-- create the window, using some maths to find the centre of the screen</span>
	<span class="kw1">local</span> Width,Height <span class="sy0">=</span> <span class="nu0">445</span>,<span class="nu0">445</span>
	<span class="kw1">local</span> X <span class="sy0">=</span> <span class="br0">&#40;</span>sWidth<span class="sy0">/</span><span class="nu0">2</span><span class="br0">&#41;</span> - <span class="br0">&#40;</span>Width<span class="sy0">/</span><span class="nu0">2</span><span class="br0">&#41;</span>
	<span class="kw1">local</span> Y <span class="sy0">=</span> <span class="br0">&#40;</span>sHeight<span class="sy0">/</span><span class="nu0">2</span><span class="br0">&#41;</span> - <span class="br0">&#40;</span>Height<span class="sy0">/</span><span class="nu0">2</span><span class="br0">&#41;</span>
&#160;
	<span class="co1">-- create the window and save the window gui element in a variable called 'rulesWindow'</span>
	rulesWindow <span class="sy0">=</span> <a href="GuiCreateWindow.html" class="kw4"><span class="kw4">guiCreateWindow</span></a><span class="br0">&#40;</span>X,Y,Width,Height,<span class="st0">&quot;Rules&quot;</span>,<span class="kw1">false</span><span class="br0">&#41;</span>
&#160;
	<span class="co1">-- stop players from being able to simply move the window out of the way</span>
	<span class="co1">-- note that we use our 'rulesWindow' variable to make changes to the window</span>
	<a href="GuiWindowSetMovable.html" class="kw4"><span class="kw4">guiWindowSetMovable</span></a><span class="br0">&#40;</span>rulesWindow,<span class="kw1">false</span><span class="br0">&#41;</span>
&#160;
	<span class="co1">-- stop players from being able to resize the window</span>
	<a href="GuiWindowSetSizable.html" class="kw4"><span class="kw4">guiWindowSetSizable</span></a><span class="br0">&#40;</span>rulesWindow,<span class="kw1">false</span><span class="br0">&#41;</span>
&#160;
	<span class="co1">-- create the button and save the button gui element in a variable called 'rulesButton'</span>
	rulesButton <span class="sy0">=</span> <a href="GuiCreateButton.html" class="kw4"><span class="kw4">guiCreateButton</span></a><span class="br0">&#40;</span><span class="nu0">137</span>,<span class="nu0">394</span>,<span class="nu0">158</span>,<span class="nu0">37</span>,<span class="st0">&quot;Accept&quot;</span>,<span class="kw1">false</span>,rulesWindow<span class="br0">&#41;</span>
&#160;
	<span class="co1">-- create the label and save the label gui element in a variable called 'rulesLabel'</span>
	<span class="co1">-- we set the text of the label to our rules</span>
	rulesLabel <span class="sy0">=</span> <a href="GuiCreateLabel.html" class="kw4"><span class="kw4">guiCreateLabel</span></a><span class="br0">&#40;</span><span class="nu0">10</span>,<span class="nu0">25</span>,<span class="nu0">425</span>,<span class="nu0">359</span>,<span class="br0">&#91;</span><span class="br0">&#91;</span>
	Welcome to my NRP Server<span class="sy0">!</span>
&#160;
	Please carefully <span class="kw1">read</span> the rules before accepting.
&#160;
	By accepting the rules, you are agreeing to play by them.
	Anyone caught breaking these rules will be kicked <span class="kw1">and</span><span class="sy0">/</span><span class="kw1">or</span> banned from this server.
&#160;
	If you <span class="kw1">do</span> <span class="kw1">not</span> accept the rules within <span class="nu0">90</span> seconds, you will be kicked.
&#160;
	<span class="nu0">1</span>: No cheating.
&#160;
	<span class="nu0">2</span>: No bug abuse.
&#160;
	<span class="nu0">3</span>: No mods to your game.
&#160;
	<span class="nu0">4</span>: No flaming.
&#160;
	<span class="nu0">5</span>: Respect other players.
&#160;
	<span class="nu0">6</span>: Be nice<span class="sy0">!</span><span class="br0">&#93;</span><span class="br0">&#93;</span>,<span class="kw1">false</span>,rulesWindow<span class="br0">&#41;</span>
&#160;
	<span class="co1">-- set the horizontal alignment of the label to center (ie: in the middle of the window)</span>
	<span class="co1">-- also note the final argument &quot;true&quot; </span>
	<span class="co1">-- this turns on wordwrap so if your text goes over the edge of the label, it will wrap around and start a new line automatically</span>
	<a href="GuiLabelSetHorizontalAlign.html" class="kw4"><span class="kw4">guiLabelSetHorizontalAlign</span></a><span class="br0">&#40;</span>rulesLabel,<span class="st0">&quot;center&quot;</span>,<span class="kw1">true</span><span class="br0">&#41;</span>	
<span class="kw1">end</span></pre></div></div>
<p><i>Note that the text is added in a different way to usual (we are not using quotation marks, "").</i>
</p>
<h3><span class="mw-headline" id="Text">Text</span></h3>
<p>There are <i>two</i> ways to define text for a label.
For most situations, the recommended method is to enter all your text between quotation marks:
</p>
<!-- PLAIN TEXT CODE FOR BOTS |guiSetText(guiElement,"My text here")|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="GuiSetText.html" class="kw4"><span class="kw4">guiSetText</span></a><span class="br0">&#40;</span>guiElement,<span class="st0">&quot;My text here&quot;</span><span class="br0">&#41;</span></pre></div></div>
<p><br />
However, when we want to have more than 1 line in our text, it becomes just as easy to use the second method. 
It is purely dependant on situation and personal choice which method you chose.
For clarity's sake, i will briefly outline both here.
</p><p><br />
When using quotation marks, we can make use of the newline character: "\n"
This allows us to break onto a new line in our text by entering "\n". For example:
</p>
<!-- PLAIN TEXT CODE FOR BOTS |guiSetText(guiElement,"This is line 1. \n This is line 2. \n This is line 3.")|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="GuiSetText.html" class="kw4"><span class="kw4">guiSetText</span></a><span class="br0">&#40;</span>guiElement,<span class="st0">&quot;This is line 1. <span class="es0">\n</span> This is line 2. <span class="es0">\n</span> This is line 3.&quot;</span><span class="br0">&#41;</span></pre></div></div>
<p><br />
However, if we use brackets to enclose the text instead of quotation marks, we do not need to worry about entering any extra characters.
We can simply type the text out as we want it to appear in the label. For example:
</p>
<!-- PLAIN TEXT CODE FOR BOTS |guiSetText(guiElement,[[This is line 1. This is line 2. This is line 3.]])|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><a href="GuiSetText.html" class="kw4"><span class="kw4">guiSetText</span></a><span class="br0">&#40;</span>guiElement,<span class="br0">&#91;</span><span class="br0">&#91;</span>This is line <span class="nu0">1</span>.
This is line <span class="nu0">2</span>.
This is line <span class="nu0">3</span>.<span class="br0">&#93;</span><span class="br0">&#93;</span><span class="br0">&#41;</span></pre></div></div>
<p>Both of these examples will create exactly the same text on the label.
It is entirely up to you which method you chose to use.
</p>
<h3><span class="mw-headline" id="Using_the_function_we_wrote">Using the function we wrote</span></h3>
<p>The createRulesWindow function is now complete, but it won't do anything until we call it. 
It is recommended to create all GUI when the client resource starts, hide them, and show them to the player later when needed. 
</p><p>Therefore, we'll write an event handler for <a href="OnClientResourceStart.html" title="OnClientResourceStart">onClientResourceStart</a> to create the window:
</p>
<!-- PLAIN TEXT CODE FOR BOTS |addEventHandler("onClientResourceStart", getResourceRootElement(getThisResource()), function () createRulesWindow() end )|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><span class="co1">-- attach the event handler to the root element of the resource</span>
<span class="co1">-- this means it will only trigger when its own resource is started</span>
<a href="AddEventHandler.html" class="kw2"><span class="kw2">addEventHandler</span></a><span class="br0">&#40;</span><span class="st0">&quot;onClientResourceStart&quot;</span>, <a href="GetResourceRootElement.html" class="kw2"><span class="kw2">getResourceRootElement</span></a><span class="br0">&#40;</span><a href="GetThisResource.html" class="kw2"><span class="kw2">getThisResource</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>, 
	<span class="kw1">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span>
		<span class="co1">-- call the createRulesWindow function to create our gui</span>
		createRulesWindow<span class="br0">&#40;</span><span class="br0">&#41;</span>
	<span class="kw1">end</span>
<span class="br0">&#41;</span></pre></div></div>
<p>As this is a rules window, we need to show the window when the player joins the game. 
Fortunately, GUI elements are visible by default so we do not need to write any more code to achieve this.
</p><p>However, we will also need to show the cursor for the player. 
This can be done using the same event, <a href="OnClientResourceStart.html" title="OnClientResourceStart">onClientResourceStart</a>, so we can modify the above code to include showing the cursor:
</p><p><b>Note that we are now writing more code for our 'onClientResourceStart' event. This is not a new function and is meant to replace what you already have.</b>
</p>
<!-- PLAIN TEXT CODE FOR BOTS |addEventHandler("onClientResourceStart", getResourceRootElement(getThisResource()), function () createRulesWindow() showCursor(true,true) end )|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><span class="co1">-- attach the event handler to the root element of the resource</span>
<span class="co1">-- this means it will only trigger when its own resource is started</span>
<a href="AddEventHandler.html" class="kw2"><span class="kw2">addEventHandler</span></a><span class="br0">&#40;</span><span class="st0">&quot;onClientResourceStart&quot;</span>, <a href="GetResourceRootElement.html" class="kw2"><span class="kw2">getResourceRootElement</span></a><span class="br0">&#40;</span><a href="GetThisResource.html" class="kw2"><span class="kw2">getThisResource</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>, 
	<span class="kw1">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span>
		<span class="co1">-- call the createRulesWindow function to create our gui</span>
		createRulesWindow<span class="br0">&#40;</span><span class="br0">&#41;</span>
&#160;
		<span class="co1">-- show the cursor to the player</span>
		<a href="ShowCursor.html" class="kw2"><span class="kw2">showCursor</span></a><span class="br0">&#40;</span><span class="kw1">true</span>,<span class="kw1">true</span><span class="br0">&#41;</span>
	<span class="kw1">end</span>
<span class="br0">&#41;</span></pre></div></div>
<p>We now have a completed GUI rules window. Next, we need to write the button functionality for the accept button.
</p>
<h2><span class="mw-headline" id="Scripting_the_Button">Scripting the Button</span></h2>
<p>Now that we have created our GUI, we need to make it work.
</p>
<h3><span class="mw-headline" id="Detecting_the_click">Detecting the click</span></h3>
<p>When the player clicks on any part of the GUI, the event "<a href="OnClientGUIClick.html" title="OnClientGUIClick">onClientGUIClick</a>" will be triggered for the GUI component you clicked on. This allows us to easily detect any clicks on the GUI elements we want to use.
For example, we can attach the event to the 'rulesButton' button to catch any clicks on it:
</p>
<!-- PLAIN TEXT CODE FOR BOTS |addEventHandler("onClientGUIClick", rulesButton, acceptRules, false)|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><span class="co1">-- attach the event onClientGUIClick to rulesButton and set it to trigger the 'acceptRules' function</span>
<a href="AddEventHandler.html" class="kw2"><span class="kw2">addEventHandler</span></a><span class="br0">&#40;</span><span class="st0">&quot;onClientGUIClick&quot;</span>, rulesButton, acceptRules, <span class="kw1">false</span><span class="br0">&#41;</span></pre></div></div>
<p><b>Note the final argument passed is "false". This indicates that the event will only trigger directly on rulesButton, not if the event has propagated up or down the tree. Setting this to "true" while attaching to gui elements will mean that clicking on any element in the same branch will trigger this event.</b>
</p><p>This line of code can now be added inside the 'createRulesWindow' function. It is a common mistake to try and attach events to non-existant GUI elements, so make sure you always attach your events <b>after</b> the GUI element (in this case, the button) has been created:
</p>
<!-- PLAIN TEXT CODE FOR BOTS |function createRulesWindow() ... addEventHandler("onClientGUIClick", rulesButton, acceptRules, false)|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><span class="kw1">function</span> createRulesWindow<span class="br0">&#40;</span><span class="br0">&#41;</span>
	<span class="co1">-- create all our GUI elements</span>
	...
&#160;
	<span class="co1">-- now add our onClientGUIClick event to the button we just created</span>
	<a href="AddEventHandler.html" class="kw2"><span class="kw2">addEventHandler</span></a><span class="br0">&#40;</span><span class="st0">&quot;onClientGUIClick&quot;</span>, rulesButton, acceptRules, <span class="kw1">false</span><span class="br0">&#41;</span></pre></div></div>
<h3><span class="mw-headline" id="Managing_the_click">Managing the click</span></h3>
<p>Now that we can detect when the player clicks on the button, we need to write code to manage what happens when they do.
In our <a href="OnClientGUIClick.html" title="OnClientGUIClick">onClientGUIClick</a> event handle, we told it to call the function 'acceptRules' whenever 'rulesButton' is clicked.
Therefore, we can now use the function 'acceptRules' to control what happens when the button is clicked:
</p>
<!-- PLAIN TEXT CODE FOR BOTS |function acceptRules(button,state) if button == "left" and state == "up" then guiSetVisible(rulesWindow, false) showCursor(false,false) outputChatBox("Thank you for accepting our rules. Have fun!") if rulesWarningTimer then killTimer(rulesWarningTimer) rulesWarningTimer = nil end end end|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><span class="co1">-- create the function and define the 'button' and 'state' parameters</span>
<span class="co1">-- (these are passed automatically by onClientGUIClick)</span>
<span class="kw1">function</span> acceptRules<span class="br0">&#40;</span>button,state<span class="br0">&#41;</span>
	<span class="co1">-- if our accept button was clicked with the left mouse button, and the state of the mouse button is up</span>
	<span class="kw1">if</span> button <span class="sy0">==</span> <span class="st0">&quot;left&quot;</span> <span class="kw1">and</span> state <span class="sy0">==</span> <span class="st0">&quot;up&quot;</span> <span class="kw1">then</span>
		<span class="co1">-- hide the window and all the components</span>
		<a href="GuiSetVisible.html" class="kw4"><span class="kw4">guiSetVisible</span></a><span class="br0">&#40;</span>rulesWindow, <span class="kw1">false</span><span class="br0">&#41;</span>
&#160;
		<span class="co1">-- hide the mouse cursor</span>
		<a href="ShowCursor.html" class="kw2"><span class="kw2">showCursor</span></a><span class="br0">&#40;</span><span class="kw1">false</span>,<span class="kw1">false</span><span class="br0">&#41;</span>
&#160;
		<span class="co1">-- output a message to the player</span>
		<a href="OutputChatBox.html" class="kw6"><span class="kw6">outputChatBox</span></a><span class="br0">&#40;</span><span class="st0">&quot;Thank you for accepting our rules. Have fun!&quot;</span><span class="br0">&#41;</span>
&#160;
&#160;
		<span class="co1">-- if the warning timer exists</span>
		<span class="kw1">if</span> rulesWarningTimer <span class="kw1">then</span>
			<span class="co1">-- stop the timer and set the variable to nil</span>
			<span class="co1">-- this is the timer used to kick players who do not accept the rules. We will cover this in more detail in the next section.</span>
			<a href="KillTimer.html" class="kw2"><span class="kw2">killTimer</span></a><span class="br0">&#40;</span>rulesWarningTimer<span class="br0">&#41;</span>
			rulesWarningTimer <span class="sy0">=</span> <span class="kw1">nil</span>
		<span class="kw1">end</span>
	<span class="kw1">end</span>
<span class="kw1">end</span></pre></div></div>
<p>Now, when the button is clicked, the window and the cursor will be hidden.
</p>
<h2><span class="mw-headline" id="Checking_for_agreement">Checking for agreement</span></h2>
<p>Currently, our window will show when the player joins the server, and they must click accept to remove it.
However, if they do not accept it they can stay in the server indefinately with the window open.
</p>
<h3><span class="mw-headline" id="Setting_a_timer">Setting a timer</span></h3>
<p>To combat this, we will add a timer using <a href="SetTimer.html" title="SetTimer">setTimer</a> to kick them from the server after a period of time if they have not accepted the rules.
First, we will need a global variable to store the timer pointer:
</p>
<!-- PLAIN TEXT CODE FOR BOTS |local rulesWarningTimer = nil|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><span class="kw1">local</span> rulesWarningTimer <span class="sy0">=</span> <span class="kw1">nil</span></pre></div></div>
<p>Put this line at the very top of your script (it does not need to be inside a function)
</p><p>Next, we will create our timer:
</p><p><b>Note that we are now writing more code for our existing 'createRulesWindow' function.</b>
</p>
<!-- PLAIN TEXT CODE FOR BOTS |function createRulesWindow() ... rulesWarningTimer = setTimer(inactivePlayer,30000,1,1) end|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><span class="kw1">function</span> createRulesWindow<span class="br0">&#40;</span><span class="br0">&#41;</span>
	<span class="co1">-- create all of our gui</span>
	...
&#160;
	<span class="co1">-- set a timer for 30 seconds and set it to call our 'inactivePlayer' function with &quot;1&quot; as an argument</span>
	rulesWarningTimer <span class="sy0">=</span> <a href="SetTimer.html" class="kw2"><span class="kw2">setTimer</span></a><span class="br0">&#40;</span>inactivePlayer,<span class="nu0">30000</span>,<span class="nu0">1</span>,<span class="nu0">1</span><span class="br0">&#41;</span>
<span class="kw1">end</span></pre></div></div>
<p>Put this <a href="SetTimer.html" title="SetTimer">setTimer</a> line at the bottom of your 'createRulesWindow' function.
This will create a timer that will trigger after 30 seconds.
</p>
<h3><span class="mw-headline" id="Giving_a_warning">Giving a warning</span></h3>
<p>Now we will write our 'inactivePlayer' function, to administer warnings to the player and finally kick him if he does not accept:
</p>
<!-- PLAIN TEXT CODE FOR BOTS |function inactivePlayer(status) if status == 1 then outputChatBox("Please accept our rules or be kicked.") rulesWarningTimer = setTimer(inactivePlayer,30000,1,2) elseif status == 2 then outputChatBox("FINAL WARNING: Please accept our rules or be kicked.") rulesWarningTimer = setTimer(inactivePlayer,30000,1,3) elseif status == 3 then triggerServerEvent("clientKickInactivePlayer",getLocalPlayer()) end end|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><span class="co1">-- create our function and define the 'status' parameter</span>
<span class="co1">-- the value of status will be passed from our setTimer function call</span>
<span class="kw1">function</span> inactivePlayer<span class="br0">&#40;</span>status<span class="br0">&#41;</span>
	<span class="co1">-- if status is 1 (this means it is the first warning)</span>
	<span class="kw1">if</span> status <span class="sy0">==</span> <span class="nu0">1</span> <span class="kw1">then</span>
		<span class="co1">-- output a warning</span>
		<a href="OutputChatBox.html" class="kw6"><span class="kw6">outputChatBox</span></a><span class="br0">&#40;</span><span class="st0">&quot;Please accept our rules or be kicked.&quot;</span><span class="br0">&#41;</span>
&#160;
		<span class="co1">-- set another timer to call inactivePlayer in another 30 seconds, with &quot;2&quot; as an argument</span>
		rulesWarningTimer <span class="sy0">=</span> <a href="SetTimer.html" class="kw2"><span class="kw2">setTimer</span></a><span class="br0">&#40;</span>inactivePlayer,<span class="nu0">30000</span>,<span class="nu0">1</span>,<span class="nu0">2</span><span class="br0">&#41;</span>
&#160;
	<span class="co1">-- if status is 2 (the second warning)</span>
	<span class="kw1">elseif</span> status <span class="sy0">==</span> <span class="nu0">2</span> <span class="kw1">then</span>
		<span class="co1">-- output a final warning</span>
		<a href="OutputChatBox.html" class="kw6"><span class="kw6">outputChatBox</span></a><span class="br0">&#40;</span><span class="st0">&quot;FINAL WARNING: Please accept our rules or be kicked.&quot;</span><span class="br0">&#41;</span>
&#160;
		<span class="co1">-- set a final timer to call inactivePlayer in another 30 seconds, with &quot;3&quot; as an argument</span>
		rulesWarningTimer <span class="sy0">=</span> <a href="SetTimer.html" class="kw2"><span class="kw2">setTimer</span></a><span class="br0">&#40;</span>inactivePlayer,<span class="nu0">30000</span>,<span class="nu0">1</span>,<span class="nu0">3</span><span class="br0">&#41;</span>	
	<span class="kw1">elseif</span> status <span class="sy0">==</span> <span class="nu0">3</span> <span class="kw1">then</span>
		<span class="co1">-- trigger the server so we can kick the player</span>
		<a href="TriggerServerEvent.html" class="kw4"><span class="kw4">triggerServerEvent</span></a><span class="br0">&#40;</span><span class="st0">&quot;clientKickInactivePlayer&quot;</span>,<a href="GetLocalPlayer.html" class="kw4"><span class="kw4">getLocalPlayer</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
	<span class="kw1">end</span>
<span class="kw1">end</span></pre></div></div>
<p>Note the use of <a href="TriggerServerEvent.html" title="TriggerServerEvent">triggerServerEvent</a> to call the server. You should have experience with client-server interaction from the <a href="Introduction_to_Scripting_the_GUI.html" title="Introduction to Scripting the GUI">Previous tutorial</a>. 
If not, you can go back and read the full explanation there.
</p><p><br />
We have now completed all the clientside code for this tutorial.
</p>
<h3><span class="mw-headline" id="Kicking_the_player">Kicking the player</span></h3>
<p>We now need to catch the event on the server that we triggered from the client, so open up a serverside lua file to work with.
</p><p>To begin, we will add the event on the server:
</p>
<!-- PLAIN TEXT CODE FOR BOTS |addEvent("clientKickInactivePlayer",true) addEventHandler("clientKickInactivePlayer",root,kickInactivePlayer)|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><span class="co1">-- add the event, note the final argument &quot;true&quot; indicates it can be triggered from the client</span>
<a href="AddEvent.html" class="kw2"><span class="kw2">addEvent</span></a><span class="br0">&#40;</span><span class="st0">&quot;clientKickInactivePlayer&quot;</span>,<span class="kw1">true</span><span class="br0">&#41;</span>
<span class="co1">-- add an event handler for this event to trigger the kickInactivePlayer function</span>
<a href="AddEventHandler.html" class="kw2"><span class="kw2">addEventHandler</span></a><span class="br0">&#40;</span><span class="st0">&quot;clientKickInactivePlayer&quot;</span>,root,kickInactivePlayer<span class="br0">&#41;</span></pre></div></div>
<p><b>Make sure you add your event handler after you have defined your 'kickInactivePlayer' function.</b>
</p><p>Note the use of <a href="AddEvent.html" title="AddEvent">addEvent</a> and <a href="AddEventHandler.html" title="AddEventHandler">addEventHandler</a> on the server. You should have experience with client-server interaction from the <a href="Introduction_to_Scripting_the_GUI.html" title="Introduction to Scripting the GUI">Previous tutorial</a>. 
If not, you can go back and read the full explanation there.
</p><p>Finally, we will add the 'kickInactivePlayer' function to control kicking of the player:
</p>
<!-- PLAIN TEXT CODE FOR BOTS |function kickInactivePlayer() kickPlayer(client,"Please accept our rules.") end|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><span class="co1">-- create our function</span>
<span class="kw1">function</span> kickInactivePlayer<span class="br0">&#40;</span><span class="br0">&#41;</span>
	<span class="co1">-- kick the player</span>
	<a href="KickPlayer.html" class="kw6"><span class="kw6">kickPlayer</span></a><span class="br0">&#40;</span><a href="Client.html" class="kw3"><span class="kw3">client</span></a>,<span class="st0">&quot;Please accept our rules.&quot;</span><span class="br0">&#41;</span>
<span class="kw1">end</span></pre></div></div>
<p>Note the use of the 'client' variable, this is an NRP variable that holds the value of the client (player) that triggered the event.
</p><p><br />
<b>Note that <a href="KickPlayer.html" title="KickPlayer">kickPlayer</a> will require your resource to have kick access in your ACL.</b>
</p><p><b>This is most easily accomplished by adding your resource into your admin group in the ACL:</b>
</p>
<!-- PLAIN TEXT CODE FOR BOTS |<group name="Admin"> ... <object name="resource.YourResourceName" /> ... </group>|--><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="lua source-lua"><pre class="de1"><span class="sy0">&lt;</span>group name<span class="sy0">=</span><span class="st0">&quot;Admin&quot;</span><span class="sy0">&gt;</span>
	...
    <span class="sy0">&lt;</span><a href="Object.html" class="kw3"><span class="kw3">object</span></a> name<span class="sy0">=</span><span class="st0">&quot;resource.YourResourceName&quot;</span> <span class="sy0">/&gt;</span>
	...
<span class="sy0">&lt;/</span>group<span class="sy0">&gt;</span></pre></div></div>
<p>For more information on the <a href="ACL.html" title="ACL" class="mw-redirect">ACL</a>, see the <a href="ACL.html" title="ACL" class="mw-redirect">ACL</a> wiki page.
</p><p>That concludes this tutorial. You should now have a fully working rules window for your server.
</p><p>For further help with GUI, see the <a href="Category_GUI_Tutorials.html" title="Category:GUI Tutorials">GUI tutorials</a>.
</p>
<!-- 
NewPP limit report
CPU time usage: 0.422 seconds
Real time usage: 0.423 seconds
Preprocessor visited node count: 199/1000000
Preprocessor generated node count: 420/1000000
Postâ€expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key nrp_wiki_1_22_13-wiki_dev_:pcache:idhash:5027-0!*!0!!en!*!* and timestamp 20150826132312
 -->
</div><div class="printfooter">
Retrieved from "<a index.html?title=Introduction_to_Scripting_the_GUI_-_Part_2&amp;oldid=39778">/index.php?title=Introduction_to_Scripting_the_GUI_-_Part_2&amp;oldid=39778</a>"</div>
		<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="Category_GUI_Tutorials.html" title="Category:GUI Tutorials">GUI Tutorials</a></li></ul></div></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="Introduction_to_Scripting_the_GUI_-_Part_2.html"Array>Page</a></li>
				 <li id="ca-talk" class="new"><a index.html?title=Talk:Introduction_to_Scripting_the_GUI_-_Part_2&amp;action=edit&amp;redlink=1"Array>Discussion</a></li>
				 <li id="ca-viewsource"><a index.html?title=Introduction_to_Scripting_the_GUI_-_Part_2&amp;action=edit"Array>View source</a></li>
				 <li id="ca-history"><a index.html?title=Introduction_to_Scripting_the_GUI_-_Part_2&amp;action=history"Array>History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-anonuserpage"><a href="User_75.81.255.html"Array class="new">75.81.255.73</a></li>
				<li id="pt-anontalk"><a href="User_talk_75.81.255.html"Array class="new">Talk for this IP address</a></li>
				<li id="pt-anonlogin"><a index.html?title=Special:UserLogin&amp;returnto=Introduction+to+Scripting+the+GUI+-+Part+2"Array></a></li>
			</ul>
		</div>
	</div>
	
	<div class="portlet" id="p-logo">
		<a style="background-image: url();" href="Main_Page.html"Array></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Home"><a href="Main_Page.html"Array>Home</a></li>
				<li id="n-How-you-can-help"><a href="How_you_can_help.html"Array>How you can help</a></li>
				<li id="n-recentchanges"><a href="Special_RecentChanges.html"Array>Recent changes</a></li>
				<li id="n-randompage"><a href="OnElementDataChange.html"Array>Random page</a></li>
			</ul>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-reference'>
		<h5>reference</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Client-Functions"><a href="Client_Scripting_Functions.html"Array>Client Functions</a></li>
				<li id="n-Client-Events"><a href="Client_Scripting_Events.html"Array>Client Events</a></li>
				<li id="n-Server-Functions"><a href="Server_Scripting_Functions.html"Array>Server Functions</a></li>
				<li id="n-Server-Events"><a href="Server_Scripting_Events.html"Array>Server Events</a></li>
				<li id="n-Useful-Functions"><a href="Useful_Functions.html"Array>Useful Functions</a></li>
				<li id="n-NRP-Classes"><a href="NRP_Classes.html"Array>NRP Classes</a></li>
				<li id="n-NRP-Elements"><a href="Element.html"Array>NRP Elements</a></li>
				<li id="n-Element-Tree"><a href="Element_tree.html"Array>Element Tree</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		
		<div id="searchBody" class="pBody">
			<form action="/index.php" id="searchform"><div>
				
				
				
				
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Tools</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Introduction_to_Scripting_the_GUI_-_Part_2.html"Array>What links here</a></li>
				<li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Introduction_to_Scripting_the_GUI_-_Part_2.html"Array>Related changes</a></li>
<li id="t-specialpages"><a href="Special_SpecialPages.html"Array>Special pages</a></li>
				<li id="t-print"><a index.html?title=Introduction_to_Scripting_the_GUI_-_Part_2&amp;printable=yes" rel="alternate"Array>Printable version</a></li>				<li id="t-permalink"><a index.html?title=Introduction_to_Scripting_the_GUI_-_Part_2&amp;oldid=39778"Array>Permanent link</a></li>			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" height="31" width="88" alt="Powered by MediaWiki" /></a></div>
				<div id="f-copyrightico"><a href="http://www.gnu.org/copyleft/fdl.html"><img src="../skins/common/images/gnu-fdl.png" alt="GNU Free Documentation License 1.2" width="88" height="31" /></a></div>
	<ul id="f-list">
					<li id="lastmod"> This page was last modified on 8 June 2014, at 01:08.</li>
					<li id="viewcount">This page has been accessed 7,225 times.</li>
					<li id="copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.2</a> unless otherwise noted.</li>
					<li id="privacy"><a href="Nexus_RP__Wiki_Privacy_policy.html" title="Nexus RP: Wiki:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="Nexus_RP__Wiki_About.html" title="Nexus RP: Wiki:About">About Nexus RP: Wiki</a></li>
					<li id="disclaimer"><a href="Nexus_RP__Wiki_General_disclaimer.html" title="Nexus RP: Wiki:General disclaimer">Disclaimers</a></li>
			</ul>
</div>
</div>
<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.cite"],null,true);
}</script>
<script src="/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=nrpbook&amp;*"></script>
<!-- Served in 0.045 secs. --></body>
<!-- Mirrored from wiki.nexusrp.com/wiki/Introduction_to_Scripting_the_GUI_-_Part_2 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 27 Aug 2015 07:33:03 GMT -->
</html>
